"use strict";$(function(){var e=$(".page"),t=$(".wrapper"),a=$(".overlay"),l=$(".card");e.on("click",".directory__row",function(){var e=$(this).attr("detailColumn1"),t=$(this).attr("detailColumn2"),o=$(this).attr("detailColumn3"),n=$(this).attr("detailColumn4"),s=$(this).attr("detailColumn5"),u=$(this).attr("detailColumn6");l.find(".detail__column1").attr("src",e),l.find(".detail__column2").text(t),l.find(".detail__column3").text(o),l.find(".detail__column4").text(n),l.find(".detail__column5").text(s),l.find(".detail__column6").text(u),a.fadeIn()}),t.on("click",".button__close",function(){a.fadeOut(),l.find(".detail__column1").attr("",$detailC1),l.find(".detail__column2").text(""),l.find(".detail__column3").text(""),l.find(".detail__column4").text(""),l.find(".detail__column5").text(""),l.find(".detail__column6").text("")})}),$(function(){jsKeyboard.init("virtualKeyboard");var e=$(":input").first().focus();jsKeyboard.currentElement=e,jsKeyboard.currentElementCursorPosition=0});var jsKeyboard={settings:{buttonClass:"button",onclick:"jsKeyboard.write();",keyClass:"key",text:{close:"close"}},keyboard:[],init:function(e,t){jsKeyboard.keyboard["default"]=jsKeyboard.defaultKeyboard,jsKeyboard.keyboardLayout=e,null!=t&&void 0!=t?jsKeyboard.generateKeyboard(t):jsKeyboard.generateKeyboard("default"),jsKeyboard.addKeyDownEvent(),jsKeyboard.show(),$(":input").not('[type="reset"]').not('[type="submit"]').on("focus, click",function(e){jsKeyboard.currentElement=$(this),jsKeyboard.currentElementCursorPosition=$(this).getCursorPosition(),console.log("keyboard is now focused on "+jsKeyboard.currentElement.attr("name")+" at pos("+jsKeyboard.currentElementCursorPosition+")")})},focus:function(e){jsKeyboard.currentElement=$(e),jsKeyboard.show()},keyboardLayout:"",currentKeyboard:"default",currentElement:null,generateKeyboard:function(e){function t(e){a=void 0==e.buttonClass?jsKeyboard.settings.buttonClass:e.buttonClass,l=void 0==e.keyClass?jsKeyboard.settings.keyClass:e.keyClass,o=void 0==e.onclick?jsKeyboard.settings.onclick.replace("()","("+e.value+")"):e.onclick,n=void 0!=e.isChar||0==e.isChar?e.value:String.fromCharCode(e.value),s+='<div class="'+a+'" onclick="'+o+'"><div class="'+l+'">'+n+"</div></div>",a="",l="",o="",n=""}var a="",l="",o="",n="",s="";s+='<div id="keyboard">',s+='<div id="keyboardHeader">',s+="</div>",s+='<div id="keyboardSmallLetter">',$.each(jsKeyboard.keyboard[e].smallLetter,function(e,a){t(a)}),s+="</div>",s+='<div id="keyboardCapitalLetter">',$.each(jsKeyboard.keyboard[e].capitalLetter,function(e,a){t(a)}),s+="</div>",s+='<div id="keyboardNumber">',$.each(jsKeyboard.keyboard[e].number,function(e,a){t(a)}),s+="</div>",s+='<div id="keyboardSymbols">',$.each(jsKeyboard.keyboard[e].symbols,function(e,a){t(a)}),s+="</div>",$("#"+jsKeyboard.keyboardLayout).html(s)},addKeyDownEvent:function(){$("#keyboardCapitalLetter > div.button, #keyboardSmallLetter > div.button, #keyboardNumber > div.button, #keyboardSymbols > div.button").bind("mousedown",function(){$(this).addClass("buttonDown")}).bind("mouseup",function(){$(this).removeClass("buttonDown")}).bind("mouseout",function(){$(this).removeClass("buttonDown")})},changeToSmallLetter:function(){$("#keyboardCapitalLetter,#keyboardNumber,#keyboardSymbols").css("display","none"),$("#keyboardSmallLetter").css("display","block")},changeToCapitalLetter:function(){$("#keyboardCapitalLetter").css("display","block"),$("#keyboardSmallLetter,#keyboardNumber,#keyboardSymbols").css("display","none")},changeToNumber:function(){$("#keyboardNumber").css("display","block"),$("#keyboardSymbols,#keyboardCapitalLetter,#keyboardSmallLetter").css("display","none")},changeToSymbols:function(){$("#keyboardCapitalLetter,#keyboardNumber,#keyboardSmallLetter").css("display","none"),$("#keyboardSymbols").css("display","block")},updateCursor:function(){jsKeyboard.currentElement.setCursorPosition(jsKeyboard.currentElementCursorPosition)},write:function(e){var t=jsKeyboard.currentElement.val(),a=String.fromCharCode(e),l=jsKeyboard.currentElementCursorPosition,o=[t.slice(0,l),a,t.slice(l)].join("");jsKeyboard.currentElement.val(o),jsKeyboard.currentElementCursorPosition++,jsKeyboard.updateCursor()},del:function(){var e=jsKeyboard.currentElement.val(),t=jsKeyboard.currentElementCursorPosition,a=[e.slice(0,t-1),e.slice(t)].join("");jsKeyboard.currentElement.val(a),jsKeyboard.currentElementCursorPosition--,jsKeyboard.updateCursor()},enter:function(){var e=jsKeyboard.currentElement.val();jsKeyboard.currentElement.val(e+"\n")},space:function(){var e=jsKeyboard.currentElement.val(),t=" ",a=jsKeyboard.currentElementCursorPosition,l=[e.slice(0,a),t,e.slice(a)].join("");jsKeyboard.currentElement.val(l),jsKeyboard.currentElementCursorPosition++,jsKeyboard.updateCursor()},writeSpecial:function(e){var t=jsKeyboard.currentElement.val(),a=String.fromCharCode(e),l=jsKeyboard.currentElementCursorPosition,o=[t.slice(0,l),a,t.slice(l)].join("");jsKeyboard.currentElement.val(o),jsKeyboard.currentElementCursorPosition++,jsKeyboard.updateCursor()},show:function(){$("#keyboard").animate({bottom:"0"},"slow",function(){})},hide:function(){$("#keyboard").animate({bottom:"-350px"},"slow",function(){})},defaultKeyboard:{capitalLetter:[{value:81},{value:87},{value:69},{value:82},{value:84},{value:89},{value:85},{value:73},{value:79},{value:80},{value:"Delete",isChar:"false",onclick:"jsKeyboard.del()",buttonClass:"button button_del",keyClass:"key key_del"},{value:65,buttonClass:"button button_a"},{value:83},{value:68},{value:70},{value:71},{value:72},{value:74},{value:75},{value:76},{value:"Enter",isChar:"false",buttonClass:"button button_enter",onclick:"jsKeyboard.enter();",keyClass:"key key_enter"},{value:"abc",isChar:"false",buttonClass:"button button_smallletter",onclick:"jsKeyboard.changeToSmallLetter();",keyClass:"key key_smallletter"},{value:90},{value:88},{value:67},{value:86},{value:66},{value:78},{value:77},{value:44},{value:46},{value:64},{value:"123",isChar:"false",buttonClass:"button button_numberleft",onclick:"jsKeyboard.changeToNumber();",keyClass:"key key_number"},{value:"Space",isChar:"false",buttonClass:"button button_space",onclick:"jsKeyboard.space();",keyClass:"key key_space"},{value:"#$+",isChar:"false",buttonClass:"button button_symbolsright",onclick:"jsKeyboard.changeToSymbols();",keyClass:"key key_symbols"}],smallLetter:[{value:113},{value:119},{value:101},{value:114},{value:116},{value:121},{value:117},{value:105},{value:111},{value:112},{value:"Delete",isChar:"false",onclick:"jsKeyboard.del()",buttonClass:"button button_del",keyClass:"key key_del"},{value:97,buttonClass:"button button_a"},{value:115},{value:100},{value:102},{value:103},{value:104},{value:106},{value:107},{value:108},{value:"Enter",isChar:"false",buttonClass:"button button_enter",onclick:"jsKeyboard.enter();",keyClass:"key key_enter"},{value:"ABC",isChar:"false",buttonClass:"button button_capitalletterleft",onclick:"jsKeyboard.changeToCapitalLetter();",keyClass:"key key_capitalletterleft"},{value:122},{value:120},{value:99},{value:118},{value:98},{value:110},{value:109},{value:44},{value:46},{value:64},{value:"123",isChar:"false",buttonClass:"button button_numberleft",onclick:"jsKeyboard.changeToNumber();",keyClass:"key key_number"},{value:"Space",isChar:"false",buttonClass:"button button_space",onclick:"jsKeyboard.space();",keyClass:"key key_space"},{value:"#%+",isChar:"false",buttonClass:"button button_symbolsright",onclick:"jsKeyboard.changeToSymbols();",keyClass:"key key_symbols"}],number:[{value:49},{value:50},{value:51},{value:52},{value:53},{value:54},{value:55},{value:56},{value:57},{value:48},{value:"Delete",isChar:"false",onclick:"jsKeyboard.del()",buttonClass:"button button_del",keyClass:"key key_del"},{value:45,buttonClass:"button button_dash"},{value:47},{value:58},{value:59},{value:40},{value:41},{value:36},{value:38},{value:64},{value:"Enter",isChar:"false",buttonClass:"button button_enter",onclick:"jsKeyboard.enter();",keyClass:"key key_enter"},{value:"",isChar:"false",buttonClass:"button button_capitalletterleft",onclick:"",keyClass:"key"},{value:63},{value:33},{value:34},{value:124},{value:92},{value:42},{value:61},{value:43},{value:"",isChar:"false",buttonClass:"button",onclick:"",keyClass:"key"},{value:"",isChar:"false",buttonClass:"button",onclick:"",keyClass:"key"},{value:"ABC",isChar:"false",buttonClass:"button button_numberleft",onclick:"jsKeyboard.changeToCapitalLetter();",keyClass:"key key_capitalletterleft"},{value:"Space",isChar:"false",buttonClass:"button button_space",onclick:"jsKeyboard.space();",keyClass:"key key_space"},{value:"#$+",isChar:"false",buttonClass:"button button_symbolsright",onclick:"jsKeyboard.changeToSymbols();",keyClass:"key key_symbols"}],symbols:[{value:91},{value:93},{value:123},{value:125},{value:35},{value:37},{value:94},{value:42},{value:43},{value:61},{value:"Delete",isChar:"false",onclick:"jsKeyboard.del()",buttonClass:"button button_del",keyClass:"key key_del"},{value:95,buttonClass:"button button_underscore"},{value:92},{value:124},{value:126},{value:60},{value:62},{value:"&euro;",isChar:"false",onclick:"jsKeyboard.writeSpecial('&euro;');"},{value:163},{value:165},{value:"Enter",isChar:"false",buttonClass:"button button_enter",onclick:"jsKeyboard.enter();",keyClass:"key key_enter"},{value:"",isChar:"false",buttonClass:"button button_capitalletterleft",onclick:"",keyClass:"key"},{value:46},{value:44},{value:63},{value:33},{value:39},{value:34},{value:59},{value:92},{value:"",isChar:"false",buttonClass:"button",onclick:"",keyClass:"key"},{value:"",isChar:"false",buttonClass:"button",onclick:"",keyClass:"key"},{value:"123",isChar:"false",buttonClass:"button button_numberleft",onclick:"jsKeyboard.changeToNumber();",keyClass:"key key_number"},{value:"Space",isChar:"false",buttonClass:"button button_space",onclick:"jsKeyboard.space();",keyClass:"key key_space"},{value:"ABC",isChar:"false",buttonClass:"button button_symbolsright",onclick:"jsKeyboard.changeToCapitalLetter();",keyClass:"key key_capitalletterleft"}]}};jQuery.fn.getCursorPosition=function(){return 0==this.lengh?-1:$(this).getSelectionStart()},jQuery.fn.getSelectionStart=function(){if(0==this.lengh)return-1;input=this[0];var e=input.value.length;if(input.createTextRange){var t=document.selection.createRange().duplicate();t.moveEnd("character",input.value.length),""==t.text&&(e=input.value.length),e=input.value.lastIndexOf(t.text)}else"undefined"!=typeof input.selectionStart&&(e=input.selectionStart);return e},jQuery.fn.setCursorPosition=function(e){return this.each(function(t,a){if(a.setSelectionRange)a.setSelectionRange(e,e);else if(a.createTextRange){var l=a.createTextRange();l.collapse(!0),l.moveEnd("character",e),l.moveStart("character",e),l.select()}}),this},window.addEventListener("WebComponentsReady",function(e){function t(e){function t(e,t){for(var a in t)e.setAttribute(a,t[a])}var e=e;e.shift(),console.log(e);var a=e.map(function(a){return t(e,{detailColumn1:a[0],detailColumn2:a[1],detailColumn3:a[2],detailColumn4:a[3],detailColumn5:a[4],detailColumn6:a[5]}),"<li>\n                  <p class='column1'><img src="+a[0]+"></p>\n                  <p class='name column2'>\n                    "+a[1]+"\n                  </p>\n                  <p class='title column3'>\n                    "+a[2]+"\n                  </p>\n                  <p class='phone column4'>\n                    "+a[3]+"\n                  </p>\n                  <p class='email column5'>\n                    "+a[4]+"\n                  </p>\n                </li>"});$(".list").append(a)}var a=document.querySelector("rise-google-sheet");a.addEventListener("rise-google-sheet-response",function(e){e.detail&&e.detail.results&&t(e.detail.results)}),a.go()});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFsbC5qcyIsImRldGFpbC1jYXJkLmpzIiwianNLZXlib2FyZC5qcyIsIm1haW4uanMiXSwibmFtZXMiOlsiJCIsIiRwYWdlIiwiJHdyYXBwZXIiLCIkb3ZlcmxheSIsIiRjYXJkIiwib24iLCIkZGV0YWlsQzEiLCJ0aGlzIiwiYXR0ciIsIiRkZXRhaWxDMiIsIiRkZXRhaWxDMyIsIiRkZXRhaWxDNCIsIiRkZXRhaWxDNSIsIiRkZXRhaWxDNiIsImZpbmQiLCJ0ZXh0IiwiZmFkZUluIiwiZmFkZU91dCIsImpzS2V5Ym9hcmQiLCJpbml0IiwiJGZpcnN0SW5wdXQiLCJmaXJzdCIsImZvY3VzIiwiY3VycmVudEVsZW1lbnQiLCJjdXJyZW50RWxlbWVudEN1cnNvclBvc2l0aW9uIiwic2V0dGluZ3MiLCJidXR0b25DbGFzcyIsIm9uY2xpY2siLCJrZXlDbGFzcyIsImNsb3NlIiwia2V5Ym9hcmQiLCJlbGVtIiwiZGVmYXVsdEtleWJvYXJkIiwia2V5Ym9hcmRMYXlvdXQiLCJ1bmRlZmluZWQiLCJnZW5lcmF0ZUtleWJvYXJkIiwiYWRkS2V5RG93bkV2ZW50Iiwic2hvdyIsIm5vdCIsImUiLCJnZXRDdXJzb3JQb3NpdGlvbiIsImNvbnNvbGUiLCJsb2ciLCJ0IiwiY3VycmVudEtleWJvYXJkIiwiZ2VuZXJhdGUiLCJrZXkiLCJiQ2xhc3MiLCJrQ2xhc3MiLCJyZXBsYWNlIiwidmFsdWUiLCJpc0NoYXIiLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJzIiwiZWFjaCIsInNtYWxsTGV0dGVyIiwiaSIsImNhcGl0YWxMZXR0ZXIiLCJudW1iZXIiLCJzeW1ib2xzIiwiaHRtbCIsImJpbmQiLCJhZGRDbGFzcyIsInJlbW92ZUNsYXNzIiwiY2hhbmdlVG9TbWFsbExldHRlciIsImNzcyIsImNoYW5nZVRvQ2FwaXRhbExldHRlciIsImNoYW5nZVRvTnVtYmVyIiwiY2hhbmdlVG9TeW1ib2xzIiwidXBkYXRlQ3Vyc29yIiwic2V0Q3Vyc29yUG9zaXRpb24iLCJ3cml0ZSIsIm0iLCJhIiwidmFsIiwiYiIsInBvcyIsIm91dHB1dCIsInNsaWNlIiwiam9pbiIsImRlbCIsImVudGVyIiwic3BhY2UiLCJ3cml0ZVNwZWNpYWwiLCJhbmltYXRlIiwiYm90dG9tIiwiaGlkZSIsImpRdWVyeSIsImZuIiwibGVuZ2giLCJnZXRTZWxlY3Rpb25TdGFydCIsImlucHV0IiwibGVuZ3RoIiwiY3JlYXRlVGV4dFJhbmdlIiwiciIsImRvY3VtZW50Iiwic2VsZWN0aW9uIiwiY3JlYXRlUmFuZ2UiLCJkdXBsaWNhdGUiLCJtb3ZlRW5kIiwibGFzdEluZGV4T2YiLCJzZWxlY3Rpb25TdGFydCIsImluZGV4Iiwic2V0U2VsZWN0aW9uUmFuZ2UiLCJyYW5nZSIsImNvbGxhcHNlIiwibW92ZVN0YXJ0Iiwic2VsZWN0Iiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsImRpc3BsYXlSZXN1bHRzIiwicmVzdWx0cyIsInNldENhcmRBdHRyaWJ1dGVzIiwiZWwiLCJhdHRycyIsInNldEF0dHJpYnV0ZSIsInNoaWZ0IiwicGVvcGxlIiwibWFwIiwicGVyc29uIiwiZGV0YWlsQ29sdW1uMSIsImRldGFpbENvbHVtbjIiLCJkZXRhaWxDb2x1bW4zIiwiZGV0YWlsQ29sdW1uNCIsImRldGFpbENvbHVtbjUiLCJkZXRhaWxDb2x1bW42IiwiYXBwZW5kIiwic2hlZXQiLCJxdWVyeVNlbGVjdG9yIiwiZGV0YWlsIiwiZ28iXSwibWFwcGluZ3MiOiJBQUFBLFlDQUFBLEdBQUUsV0FHQSxHQUFJQyxHQUFRRCxFQUFFLFNBQ1ZFLEVBQVdGLEVBQUUsWUFDYkcsRUFBV0gsRUFBRSxZQUNiSSxFQUFRSixFQUFFLFFBR2RDLEdBQU1JLEdBQUcsUUFBUSxrQkFBbUIsV0FHbEMsR0FBSUMsR0FBWU4sRUFBRU8sTUFBTUMsS0FBSyxpQkFDekJDLEVBQVlULEVBQUVPLE1BQU1DLEtBQUssaUJBQ3pCRSxFQUFZVixFQUFFTyxNQUFNQyxLQUFLLGlCQUN6QkcsRUFBWVgsRUFBRU8sTUFBTUMsS0FBSyxpQkFDekJJLEVBQVla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dGlvbiAoKSB7XG5cbiAgLy9tYWluIHZhcmlhYmxlc1xuICB2YXIgJHBhZ2UgPSAkKFwiLnBhZ2VcIik7XG4gIHZhciAkd3JhcHBlciA9ICQoXCIud3JhcHBlclwiKTtcbiAgdmFyICRvdmVybGF5ID0gJChcIi5vdmVybGF5XCIpO1xuICB2YXIgJGNhcmQgPSAkKFwiLmNhcmRcIik7XG5cbiAgLy9vcGVuIG1vZGFsIHdoZW4gY2FyZCBpcyBjbGlja2VkXG4gICRwYWdlLm9uKFwiY2xpY2tcIiwgXCIuZGlyZWN0b3J5X19yb3dcIiwgZnVuY3Rpb24gKCkge1xuXG4gICAgLy9wb3B1cCBjYXJkIGRldGFpbHNcbiAgICB2YXIgJGRldGFpbEMxID0gJCh0aGlzKS5hdHRyKFwiZGV0YWlsQ29sdW1uMVwiKTtcbiAgICB2YXIgJGRldGFpbEMyID0gJCh0aGlzKS5hdHRyKFwiZGV0YWlsQ29sdW1uMlwiKTtcbiAgICB2YXIgJGRldGFpbEMzID0gJCh0aGlzKS5hdHRyKFwiZGV0YWlsQ29sdW1uM1wiKTtcbiAgICB2YXIgJGRldGFpbEM0ID0gJCh0aGlzKS5hdHRyKFwiZGV0YWlsQ29sdW1uNFwiKTtcbiAgICB2YXIgJGRldGFpbEM1ID0gJCh0aGlzKS5hdHRyKFwiZGV0YWlsQ29sdW1uNVwiKTtcbiAgICB2YXIgJGRldGFpbEM2ID0gJCh0aGlzKS5hdHRyKFwiZGV0YWlsQ29sdW1uNlwiKTtcblxuICAgICRjYXJkLmZpbmQoXCIuZGV0YWlsX19jb2x1bW4xXCIpLmF0dHIoXCJzcmNcIiwgJGRldGFpbEMxKTtcbiAgICAkY2FyZC5maW5kKFwiLmRldGFpbF9fY29sdW1uMlwiKS50ZXh0KCRkZXRhaWxDMik7XG4gICAgJGNhcmQuZmluZChcIi5kZXRhaWxfX2NvbHVtbjNcIikudGV4dCgkZGV0YWlsQzMpO1xuICAgICRjYXJkLmZpbmQoXCIuZGV0YWlsX19jb2x1bW40XCIpLnRleHQoJGRldGFpbEM0KTtcbiAgICAkY2FyZC5maW5kKFwiLmRldGFpbF9fY29sdW1uNVwiKS50ZXh0KCRkZXRhaWxDNSk7XG4gICAgJGNhcmQuZmluZChcIi5kZXRhaWxfX2NvbHVtbjZcIikudGV4dCgkZGV0YWlsQzYpO1xuXG4gICAgJG92ZXJsYXkuZmFkZUluKCk7XG4gIH0pO1xuXG4gIC8vY2xvc2UgbW9kYWwgd2hlbiBjbG9zZSBidXR0b24gaXMgY2xpY2tlZFxuXG4gICR3cmFwcGVyLm9uKFwiY2xpY2tcIiwgXCIuYnV0dG9uX19jbG9zZVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgJG92ZXJsYXkuZmFkZU91dCgpO1xuICAgICRjYXJkLmZpbmQoXCIuZGV0YWlsX19jb2x1bW4xXCIpLmF0dHIoXCJcIiwgJGRldGFpbEMxKTtcbiAgICAkY2FyZC5maW5kKFwiLmRldGFpbF9fY29sdW1uMlwiKS50ZXh0KFwiXCIpO1xuICAgICRjYXJkLmZpbmQoXCIuZGV0YWlsX19jb2x1bW4zXCIpLnRleHQoXCJcIik7XG4gICAgJGNhcmQuZmluZChcIi5kZXRhaWxfX2NvbHVtbjRcIikudGV4dChcIlwiKTtcbiAgICAkY2FyZC5maW5kKFwiLmRldGFpbF9fY29sdW1uNVwiKS50ZXh0KFwiXCIpO1xuICAgICRjYXJkLmZpbmQoXCIuZGV0YWlsX19jb2x1bW42XCIpLnRleHQoXCJcIik7XG4gIH0pO1xufSk7XG4vLyB2YXIgUmlzZVZpc2lvbiA9IFJpc2VWaXNpb24gfHwge307XG4vLyBSaXNlVmlzaW9uLkRpcmVjdG9yeSA9IHt9O1xuXG4vLyBSaXNlVmlzaW9uLkRpcmVjdG9yeSA9IChmdW5jdGlvbigpIHtcbi8vICAgXCJ1c2Ugc3RyaWN0XCI7XG5cbi8vICAgdmFyIHJvd3MgPSBbXTtcbi8vICAgdmFyIGNvdW50ZXIgPSAwO1xuLy8gICB2YXIgJG1haW5Db250YWluZXIgPSAkKFwiI21haW4tY29udGFpbmVyXCIpXG4vLyAgIHZhciAkZGlyZWN0b3J5TGlzdCA9ICQoXCIubGlzdFwiKVxuXG4vLyAgIC8qXG4vLyAgICAqICBQcml2YXRlIE1ldGhvZHNcbi8vICAgICovXG5cbi8vICAgLyogUmV0dXJuIHRvdGFsIG51bWJlciBvZiBjb2x1bW5zIGluIGRhdGEuICovXG4vLyAgIGZ1bmN0aW9uIGdldE51bUNvbHVtbnMoY2VsbHMpIHtcbi8vICAgICB2YXIgbGVuID0gY2VsbHMubGVuZ3RoLFxuLy8gICAgICAgY3VycmVudFJvdyA9IDAsXG4vLyAgICAgICBwcmV2aW91c1JvdyA9IDAsXG4vLyAgICAgICB0b3RhbENvbHMgPSAwO1xuXG4vLyAgICAgZm9yICh2YXIgaSA9IDA7IGkgPD0gbGVuOyBpKyspIHtcbi8vICAgICAgIGN1cnJlbnRSb3cgPSBwYXJzZUludChjZWxsc1tpXS5ncyRjZWxsLnJvdywgMTApO1xuXG4vLyAgICAgICBpZiAoaSA9PT0gMCkge1xuLy8gICAgICAgICBwcmV2aW91c1JvdyA9IGN1cnJlbnRSb3c7XG4vLyAgICAgICB9XG5cbi8vICAgICAgIGlmIChjdXJyZW50Um93ID09PSBwcmV2aW91c1Jvdykge1xuLy8gICAgICAgICB0b3RhbENvbHMrKztcbi8vICAgICAgIH1cbi8vICAgICAgIGVsc2Uge1xuLy8gICAgICAgICBicmVhaztcbi8vICAgICAgIH1cbi8vICAgICB9XG5cbi8vICAgICByZXR1cm4gdG90YWxDb2xzO1xuLy8gICB9XG5cbi8vICAgLyogUmV0dXJuIGEgc2luZ2xlIGNlbGwgb2YgZGF0YS4gKi9cbi8vICAgZnVuY3Rpb24gZ2V0Q2VsbChpbmRleCwgY2VsbHMpIHtcbi8vICAgICByZXR1cm4gY2VsbHNbaW5kZXhdID8gY2VsbHNbaW5kZXhdLmdzJGNlbGwuJHQgOiBcIlwiO1xuLy8gICB9XG5cbi8vICAgLyogUmV0dXJuIGFuIGluZGl2aWR1YWwgZXZlbnQgYXMgYW4gb2JqZWN0LiAqL1xuLy8gICBmdW5jdGlvbiBnZXRSb3coaW5kZXgsIG51bUNvbHMsIGNlbGxzKSB7XG4vLyAgICAgdmFyIGluZGl2aWR1YWxSb3cgPSB7fTtcblxuLy8gICAgIGluZGl2aWR1YWxSb3cuYzEgPSBnZXRDZWxsKGluZGV4LCBjZWxscyk7XG4vLyAgICAgaW5kaXZpZHVhbFJvdy5jMiA9IGdldENlbGwoKytpbmRleCwgY2VsbHMpO1xuLy8gICAgIGluZGl2aWR1YWxSb3cuYzMgPSBnZXRDZWxsKCsraW5kZXgsIGNlbGxzKTtcbi8vICAgICBpbmRpdmlkdWFsUm93LmM0ID0gZ2V0Q2VsbCgrK2luZGV4LCBjZWxscyk7XG4vLyAgICAgaW5kaXZpZHVhbFJvdy5jNSA9IGdldENlbGwoKytpbmRleCwgY2VsbHMpO1xuLy8gICAgIGluZGl2aWR1YWxSb3cuYzYgPSBnZXRDZWxsKCsraW5kZXgsIGNlbGxzKTtcblxuLy8gICAgIHJldHVybiBpbmRpdmlkdWFsUm93O1xuLy8gICB9XG5cbi8vICAgLyogQWRkIGVhY2ggZXZlbnQgdG8gdGhlIGV2ZW50cyBhcnJheS4gKi9cbi8vICAgZnVuY3Rpb24gYWRkRGlyZWN0b3J5KGNlbGxzKSB7XG4vLyAgICAgY291bnRlciA9IDA7XG4vLyAgICAgcm93cyA9IFtdO1xuLy8gICAgIHZhciBudW1Db2xzID0gZ2V0TnVtQ29sdW1ucyhjZWxscyksXG4vLyAgICAgICBsZW4gPSBjZWxscy5sZW5ndGgsXG4vLyAgICAgICBpbmRpdmlkdWFsUm93O1xuXG4vLyAgICAgLy8gU2tpcCBoZWFkZXIgYW5kIHN0YXJ0IGF0IGZpcnN0IGNlbGwgb2YgZGF0YS5cbi8vICAgICBmb3IgKHZhciBpID0gbnVtQ29sczsgaSA8IGxlbjsgaSArPSBudW1Db2xzKSB7XG4vLyAgICAgICBpbmRpdmlkdWFsUm93ID0gZ2V0Um93KGksIG51bUNvbHMsIGNlbGxzKTtcbi8vICAgICAgIHJvd3MucHVzaChpbmRpdmlkdWFsUm93KTtcbi8vICAgICB9XG4vLyAgIH1cblxuLy8gICAvKiBEaXNwbGF5IHRoZSBEaXJlY3RvcnkuICovXG4vLyAgIGZ1bmN0aW9uIGRpc3BsYXlEaXJlY3RvcnkoKSB7XG5cbi8vICAgICB2YXIgcm93RW50cnkgPSBudWxsLFxuLy8gICAgICAgYzEgPSBudWxsLFxuLy8gICAgICAgYzIgPSBudWxsLFxuLy8gICAgICAgYzMgPSBudWxsLFxuLy8gICAgICAgYzQgPSBudWxsLFxuLy8gICAgICAgYzUgPSBudWxsLFxuLy8gICAgICAgYzYgPSBudWxsLFxuLy8gICAgICAgZXZlbnRTbGlkZXMgPSBudWxsLFxuLy8gICAgICAgbnVtRXZlbnRzID0gcm93cy5sZW5ndGg7XG5cbi8vICAgICAgICAgJGRpcmVjdG9yeUxpc3QuZW1wdHkoKTtcblxuLy8gICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBudW1FdmVudHM7IGkrKykge1xuXG4vLyAgICAgICAgIHJvd0VudHJ5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpO1xuLy8gICAgICAgICByb3dFbnRyeS5jbGFzc05hbWUgPSBcImRpcmVjdG9yeV9fcm93XCI7XG4vLyAgICAgICAgIGMxID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImNvbHVtbjFcIik7XG4vLyAgICAgICAgIGMyID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImNvbHVtbjJcIik7XG4vLyAgICAgICAgIGMzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImNvbHVtbjNcIik7XG4vLyAgICAgICAgIGM0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImNvbHVtbjRcIik7XG4vLyAgICAgICAgIGM1ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImNvbHVtbjVcIik7XG4vLyAgICAgICAgIGM2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImNvbHVtbjZcIik7XG4vLyAgICAgICAgIGMxLnRleHRDb250ZW50ID0gcm93c1tpXS5jMTtcbi8vICAgICAgICAgYzIudGV4dENvbnRlbnQgPSByb3dzW2ldLmMyO1xuLy8gICAgICAgICBjMy50ZXh0Q29udGVudCA9IHJvd3NbaV0uYzM7XG4vLyAgICAgICAgIGM0LnRleHRDb250ZW50ID0gcm93c1tpXS5jNDtcbi8vICAgICAgICAgYzUudGV4dENvbnRlbnQgPSByb3dzW2ldLmM1O1xuLy8gICAgICAgICBjNi50ZXh0Q29udGVudCA9IHJvd3NbaV0uYzY7XG5cblxuLy8gICAgICAgICAvKiBEZXRhaWxzIENhcmQuICovXG4vLyAgICAgICAgIGZ1bmN0aW9uIHNldENhcmRBdHRyaWJ1dGVzKGVsLCBhdHRycykge1xuLy8gICAgICAgICAgIGZvcih2YXIga2V5IGluIGF0dHJzKSB7XG4vLyAgICAgICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoa2V5LCBhdHRyc1trZXldKTtcbi8vICAgICAgICAgICB9XG4vLyAgICAgICAgIH1cblxuLy8gICAgICAgICBzZXRDYXJkQXR0cmlidXRlcyhyb3dFbnRyeSx7XCJkZXRhaWxDb2x1bW4xXCI6YzEudGV4dENvbnRlbnQsXCJkZXRhaWxDb2x1bW4yXCI6YzIudGV4dENvbnRlbnQsXCJkZXRhaWxDb2x1bW4zXCI6YzMudGV4dENvbnRlbnQsXCJkZXRhaWxDb2x1bW40XCI6YzQudGV4dENvbnRlbnQsXCJkZXRhaWxDb2x1bW41XCI6YzUudGV4dENvbnRlbnQsXCJkZXRhaWxDb2x1bW42XCI6YzYudGV4dENvbnRlbnR9KTtcblxuLy8gICAgICAgICByb3dFbnRyeS5pbm5lckhUTUwgPSBcIjxwIGNsYXNzID0gJ2NvbHVtbjEnPlwiICsgXCI8aW1nIHNyYz0nXCIrIGMxLnRleHRDb250ZW50ICtcIic+XCIgKyBcIjwvcD5cIiArIFwiPHAgY2xhc3M9J25hbWUgY29sdW1uMic+XCIgKyBjMi50ZXh0Q29udGVudCArIFwiPC9wPlwiICsgXCI8cCBjbGFzcyA9ICd0aXRsZSBjb2x1bW4zJz5cIiArIGMzLnRleHRDb250ZW50ICsgXCI8L3A+XCIgKyBcIjxwIGNsYXNzPSdwaG9uZSBjb2x1bW40Jz5cIisgYzQudGV4dENvbnRlbnQgK1wiPC9wPlwiKyBcIjxwIGNsYXNzPSdlbWFpbCBjb2x1bW41Jz5cIisgYzUudGV4dENvbnRlbnQgK1wiPC9wPlwiXG5cbi8vICAgICAgICAgJGRpcmVjdG9yeUxpc3QuYXBwZW5kKHJvd0VudHJ5KTtcblxuLy8gICAgICAgICAkKCBcImxpOmNvbnRhaW5zKCctLS0nKVwiICkuY3NzKCBcImRpc3BsYXlcIiwgXCJub25lXCIgKTtcbi8vICAgICAgIH1cbi8vICAgICB9XG5cbi8vICAgLypcbi8vICAgICogIFB1YmxpYyBNZXRob2RzXG4vLyAgICAqL1xuLy8gICBmdW5jdGlvbiBpbml0KCkge1xuLy8gICAgIHZhciBnb29nbGVTaGVldCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZ29vZ2xlU2hlZXRcIik7XG4vLyAgICAgZ29vZ2xlU2hlZXQuYWRkRXZlbnRMaXN0ZW5lcihcInJpc2UtZ29vZ2xlLXNoZWV0LXJlc3BvbnNlXCIsIGZ1bmN0aW9uKGUpIHtcbi8vICAgICAgIGFkZERpcmVjdG9yeShlLmRldGFpbC5jZWxscyk7XG4vLyAgICAgICBkaXNwbGF5RGlyZWN0b3J5KCk7XG4vLyAgICAgICAvLyBfZ2V0U2Nyb2xsRWwoKTtcbi8vICAgICB9KTtcbi8vICAgICBnb29nbGVTaGVldC5nbygpO1xuLy8gICB9XG4vLyAvLyBhbGVydCgndGVzdCcpO1xuXG5cbi8vICAgcmV0dXJuIHtcbi8vICAgICBcImluaXRcIjogaW5pdFxuLy8gICB9O1xuLy8gfSkoKTtcblwidXNlIHN0cmljdFwiO1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbiQoZnVuY3Rpb24gKCkge1xuICAgIGpzS2V5Ym9hcmQuaW5pdChcInZpcnR1YWxLZXlib2FyZFwiKTtcblxuICAgIC8vZmlyc3QgaW5wdXQgZm9jdXNcbiAgICB2YXIgJGZpcnN0SW5wdXQgPSAkKCc6aW5wdXQnKS5maXJzdCgpLmZvY3VzKCk7XG4gICAganNLZXlib2FyZC5jdXJyZW50RWxlbWVudCA9ICRmaXJzdElucHV0O1xuICAgIGpzS2V5Ym9hcmQuY3VycmVudEVsZW1lbnRDdXJzb3JQb3NpdGlvbiA9IDA7XG59KTtcblxudmFyIGpzS2V5Ym9hcmQgPSB7XG4gICAgc2V0dGluZ3M6IHtcbiAgICAgICAgYnV0dG9uQ2xhc3M6IFwiYnV0dG9uXCIsIC8vIGRlZmF1bHQgYnV0dG9uIGNsYXNzXG4gICAgICAgIG9uY2xpY2s6IFwianNLZXlib2FyZC53cml0ZSgpO1wiLCAvLyBkZWZhdWx0IG9uY2xpY2sgZXZlbnQgZm9yIGJ1dHRvblxuICAgICAgICBrZXlDbGFzczogXCJrZXlcIiwgLy8gZGVmYXVsdCBrZXkgY2xhc3MgdXNlZCB0byBkZWZpbmUgc3R5bGUgb2YgdGV4dCBvZiB0aGUgYnV0dG9uXG4gICAgICAgIHRleHQ6IHtcbiAgICAgICAgICAgIGNsb3NlOiBcImNsb3NlXCJcbiAgICAgICAgfVxuICAgIH0sXG4gICAgXCJrZXlib2FyZFwiOiBbXSwgLy8gZGlmZmVyZW50IGtleWJvYXJkcyBjYW4gYmUgc2V0IHRvIHRoaXMgdmFyaWFibGUgaW4gb3JkZXIgdG8gc3dpdGNoIGJldHdlZW4ga2V5Ym9hcmRzIGVhc2lseS5cbiAgICBpbml0OiBmdW5jdGlvbiBpbml0KGVsZW0sIGtleWJvYXJkKSB7XG4gICAgICAgIGpzS2V5Ym9hcmQua2V5Ym9hcmRbXCJkZWZhdWx0XCJdID0ganNLZXlib2FyZC5kZWZhdWx0S2V5Ym9hcmQ7XG4gICAgICAgIGpzS2V5Ym9hcmQua2V5Ym9hcmRMYXlvdXQgPSBlbGVtO1xuXG4gICAgICAgIGlmIChrZXlib2FyZCAhPSBudWxsICYmIGtleWJvYXJkICE9IHVuZGVmaW5lZCkganNLZXlib2FyZC5nZW5lcmF0ZUtleWJvYXJkKGtleWJvYXJkKTtlbHNlIGpzS2V5Ym9hcmQuZ2VuZXJhdGVLZXlib2FyZChcImRlZmF1bHRcIik7XG5cbiAgICAgICAganNLZXlib2FyZC5hZGRLZXlEb3duRXZlbnQoKTtcblxuICAgICAgICBqc0tleWJvYXJkLnNob3coKTtcbiAgICAgICAgJCgnOmlucHV0Jykubm90KCdbdHlwZT1cInJlc2V0XCJdJykubm90KCdbdHlwZT1cInN1Ym1pdFwiXScpLm9uKCdmb2N1cywgY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAganNLZXlib2FyZC5jdXJyZW50RWxlbWVudCA9ICQodGhpcyk7XG4gICAgICAgICAgICBqc0tleWJvYXJkLmN1cnJlbnRFbGVtZW50Q3Vyc29yUG9zaXRpb24gPSAkKHRoaXMpLmdldEN1cnNvclBvc2l0aW9uKCk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygna2V5Ym9hcmQgaXMgbm93IGZvY3VzZWQgb24gJyArIGpzS2V5Ym9hcmQuY3VycmVudEVsZW1lbnQuYXR0cignbmFtZScpICsgJyBhdCBwb3MoJyArIGpzS2V5Ym9hcmQuY3VycmVudEVsZW1lbnRDdXJzb3JQb3NpdGlvbiArICcpJyk7XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgZm9jdXM6IGZ1bmN0aW9uIGZvY3VzKHQpIHtcbiAgICAgICAganNLZXlib2FyZC5jdXJyZW50RWxlbWVudCA9ICQodCk7XG4gICAgICAgIGpzS2V5Ym9hcmQuc2hvdygpO1xuICAgIH0sXG4gICAga2V5Ym9hcmRMYXlvdXQ6IFwiXCIsIC8vIGl0IHNob3dzIHRoZSBodG1sIGVsZW1lbnQgd2hlcmUga2V5Ym9hcmQgaXMgZ2VuZXJhdGVkXG4gICAgY3VycmVudEtleWJvYXJkOiBcImRlZmF1bHRcIiwgLy8gaXQgc2hvd3MgdGhlIHdoaWNoIGtleWJvYXJkIGlzIHVzZWQuIElmIGl0J3Mgbm90IHNldCBkZWZhdWx0IGtleWJvYXJkIGlzIHVzZWQuXG4gICAgY3VycmVudEVsZW1lbnQ6IG51bGwsXG4gICAgZ2VuZXJhdGVLZXlib2FyZDogZnVuY3Rpb24gZ2VuZXJhdGVLZXlib2FyZChrZXlib2FyZCkge1xuICAgICAgICB2YXIgYkNsYXNzID0gXCJcIjtcbiAgICAgICAgdmFyIGtDbGFzcyA9IFwiXCI7XG4gICAgICAgIHZhciBvbmNsaWNrID0gXCJcIjtcbiAgICAgICAgdmFyIHRleHQgPSBcIlwiO1xuXG4gICAgICAgIHZhciBzID0gXCJcIjtcbiAgICAgICAgcyArPSBcIjxkaXYgaWQ9XFxcImtleWJvYXJkXFxcIj5cIjtcbiAgICAgICAgcyArPSBcIjxkaXYgaWQ9XFxcImtleWJvYXJkSGVhZGVyXFxcIj5cIjtcbiAgICAgICAgLy8gcyArPSBcIjxkaXYgb25jbGljaz1cXFwianNLZXlib2FyZC5oaWRlKCk7XFxcIj48c3Bhbj5cIiArIGpzS2V5Ym9hcmQuc2V0dGluZ3MudGV4dC5jbG9zZSArIFwiPC9zcGFuPjxzcGFuIGNsYXNzPVxcXCJjbG9zZXhcXFwiPiBYPC9zcGFuPjwvZGl2PlwiXG4gICAgICAgIHMgKz0gXCI8L2Rpdj5cIjtcblxuICAgICAgICAvKnNtYWxsIGxldHRlciAqL1xuICAgICAgICBzICs9IFwiPGRpdiBpZD1cXFwia2V5Ym9hcmRTbWFsbExldHRlclxcXCI+XCI7XG4gICAgICAgICQuZWFjaChqc0tleWJvYXJkLmtleWJvYXJkW2tleWJvYXJkXS5zbWFsbExldHRlciwgZnVuY3Rpb24gKGksIGtleSkge1xuICAgICAgICAgICAgZ2VuZXJhdGUoa2V5KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHMgKz0gXCI8L2Rpdj5cIjtcblxuICAgICAgICAvKmNhcGl0YWwgbGV0dGVyKi9cbiAgICAgICAgcyArPSBcIjxkaXYgaWQ9XFxcImtleWJvYXJkQ2FwaXRhbExldHRlclxcXCI+XCI7XG4gICAgICAgICQuZWFjaChqc0tleWJvYXJkLmtleWJvYXJkW2tleWJvYXJkXS5jYXBpdGFsTGV0dGVyLCBmdW5jdGlvbiAoaSwga2V5KSB7XG4gICAgICAgICAgICBnZW5lcmF0ZShrZXkpO1xuICAgICAgICB9KTtcbiAgICAgICAgcyArPSBcIjwvZGl2PlwiO1xuXG4gICAgICAgIC8qbnVtYmVyKi9cbiAgICAgICAgcyArPSBcIjxkaXYgaWQ9XFxcImtleWJvYXJkTnVtYmVyXFxcIj5cIjtcbiAgICAgICAgJC5lYWNoKGpzS2V5Ym9hcmQua2V5Ym9hcmRba2V5Ym9hcmRdLm51bWJlciwgZnVuY3Rpb24gKGksIGtleSkge1xuICAgICAgICAgICAgZ2VuZXJhdGUoa2V5KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHMgKz0gXCI8L2Rpdj5cIjtcblxuICAgICAgICAvKnN5bWJvbHMqL1xuICAgICAgICBzICs9IFwiPGRpdiBpZD1cXFwia2V5Ym9hcmRTeW1ib2xzXFxcIj5cIjtcbiAgICAgICAgJC5lYWNoKGpzS2V5Ym9hcmQua2V5Ym9hcmRba2V5Ym9hcmRdLnN5bWJvbHMsIGZ1bmN0aW9uIChpLCBrZXkpIHtcbiAgICAgICAgICAgIGdlbmVyYXRlKGtleSk7XG4gICAgICAgIH0pO1xuICAgICAgICBzICs9IFwiPC9kaXY+XCI7XG5cbiAgICAgICAgZnVuY3Rpb24gZ2VuZXJhdGUoa2V5KSB7XG4gICAgICAgICAgICBiQ2xhc3MgPSBrZXkuYnV0dG9uQ2xhc3MgPT0gdW5kZWZpbmVkID8ganNLZXlib2FyZC5zZXR0aW5ncy5idXR0b25DbGFzcyA6IGtleS5idXR0b25DbGFzcztcbiAgICAgICAgICAgIGtDbGFzcyA9IGtleS5rZXlDbGFzcyA9PSB1bmRlZmluZWQgPyBqc0tleWJvYXJkLnNldHRpbmdzLmtleUNsYXNzIDoga2V5LmtleUNsYXNzO1xuICAgICAgICAgICAgb25jbGljayA9IGtleS5vbmNsaWNrID09IHVuZGVmaW5lZCA/IGpzS2V5Ym9hcmQuc2V0dGluZ3Mub25jbGljay5yZXBsYWNlKFwiKClcIiwgXCIoXCIgKyBrZXkudmFsdWUgKyBcIilcIikgOiBrZXkub25jbGljaztcblxuICAgICAgICAgICAgdGV4dCA9IGtleS5pc0NoYXIgIT0gdW5kZWZpbmVkIHx8IGtleS5pc0NoYXIgPT0gZmFsc2UgPyBrZXkudmFsdWUgOiBTdHJpbmcuZnJvbUNoYXJDb2RlKGtleS52YWx1ZSk7XG5cbiAgICAgICAgICAgIHMgKz0gXCI8ZGl2IGNsYXNzPVxcXCJcIiArIGJDbGFzcyArIFwiXFxcIiBvbmNsaWNrPVxcXCJcIiArIG9uY2xpY2sgKyBcIlxcXCI+PGRpdiBjbGFzcz1cXFwiXCIgKyBrQ2xhc3MgKyBcIlxcXCI+XCIgKyB0ZXh0ICsgXCI8L2Rpdj48L2Rpdj5cIjtcblxuICAgICAgICAgICAgYkNsYXNzID0gXCJcIjtrQ2xhc3MgPSBcIlwiO29uY2xpY2sgPSBcIlwiO3RleHQgPSBcIlwiO1xuICAgICAgICB9XG5cbiAgICAgICAgJChcIiNcIiArIGpzS2V5Ym9hcmQua2V5Ym9hcmRMYXlvdXQpLmh0bWwocyk7XG4gICAgfSxcbiAgICBhZGRLZXlEb3duRXZlbnQ6IGZ1bmN0aW9uIGFkZEtleURvd25FdmVudCgpIHtcbiAgICAgICAgJChcIiNrZXlib2FyZENhcGl0YWxMZXR0ZXIgPiBkaXYuYnV0dG9uLCAja2V5Ym9hcmRTbWFsbExldHRlciA+IGRpdi5idXR0b24sICNrZXlib2FyZE51bWJlciA+IGRpdi5idXR0b24sICNrZXlib2FyZFN5bWJvbHMgPiBkaXYuYnV0dG9uXCIpLmJpbmQoJ21vdXNlZG93bicsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoXCJidXR0b25Eb3duXCIpO1xuICAgICAgICB9KS5iaW5kKCdtb3VzZXVwJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcyhcImJ1dHRvbkRvd25cIik7XG4gICAgICAgIH0pLmJpbmQoJ21vdXNlb3V0JywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcyhcImJ1dHRvbkRvd25cIik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8va2V5IGZvY3VzIGRvd24gb24gYWN0dWFsIGtleWJvYXJkIGtleSBwcmVzc2VzXG4gICAgICAgIC8vdG9kbzouLi4uXG4gICAgfSxcbiAgICBjaGFuZ2VUb1NtYWxsTGV0dGVyOiBmdW5jdGlvbiBjaGFuZ2VUb1NtYWxsTGV0dGVyKCkge1xuICAgICAgICAkKFwiI2tleWJvYXJkQ2FwaXRhbExldHRlciwja2V5Ym9hcmROdW1iZXIsI2tleWJvYXJkU3ltYm9sc1wiKS5jc3MoXCJkaXNwbGF5XCIsIFwibm9uZVwiKTtcbiAgICAgICAgJChcIiNrZXlib2FyZFNtYWxsTGV0dGVyXCIpLmNzcyhcImRpc3BsYXlcIiwgXCJibG9ja1wiKTtcbiAgICB9LFxuICAgIGNoYW5nZVRvQ2FwaXRhbExldHRlcjogZnVuY3Rpb24gY2hhbmdlVG9DYXBpdGFsTGV0dGVyKCkge1xuICAgICAgICAkKFwiI2tleWJvYXJkQ2FwaXRhbExldHRlclwiKS5jc3MoXCJkaXNwbGF5XCIsIFwiYmxvY2tcIik7XG4gICAgICAgICQoXCIja2V5Ym9hcmRTbWFsbExldHRlciwja2V5Ym9hcmROdW1iZXIsI2tleWJvYXJkU3ltYm9sc1wiKS5jc3MoXCJkaXNwbGF5XCIsIFwibm9uZVwiKTtcbiAgICB9LFxuICAgIGNoYW5nZVRvTnVtYmVyOiBmdW5jdGlvbiBjaGFuZ2VUb051bWJlcigpIHtcbiAgICAgICAgJChcIiNrZXlib2FyZE51bWJlclwiKS5jc3MoXCJkaXNwbGF5XCIsIFwiYmxvY2tcIik7XG4gICAgICAgICQoXCIja2V5Ym9hcmRTeW1ib2xzLCNrZXlib2FyZENhcGl0YWxMZXR0ZXIsI2tleWJvYXJkU21hbGxMZXR0ZXJcIikuY3NzKFwiZGlzcGxheVwiLCBcIm5vbmVcIik7XG4gICAgfSxcbiAgICBjaGFuZ2VUb1N5bWJvbHM6IGZ1bmN0aW9uIGNoYW5nZVRvU3ltYm9scygpIHtcbiAgICAgICAgJChcIiNrZXlib2FyZENhcGl0YWxMZXR0ZXIsI2tleWJvYXJkTnVtYmVyLCNrZXlib2FyZFNtYWxsTGV0dGVyXCIpLmNzcyhcImRpc3BsYXlcIiwgXCJub25lXCIpO1xuICAgICAgICAkKFwiI2tleWJvYXJkU3ltYm9sc1wiKS5jc3MoXCJkaXNwbGF5XCIsIFwiYmxvY2tcIik7XG4gICAgfSxcbiAgICB1cGRhdGVDdXJzb3I6IGZ1bmN0aW9uIHVwZGF0ZUN1cnNvcigpIHtcbiAgICAgICAgLy9pbnB1dCBjdXJzb3IgZm9jdXMgYW5kIHBvc2l0aW9uIGR1cmluZyB0eXBpbmdcbiAgICAgICAganNLZXlib2FyZC5jdXJyZW50RWxlbWVudC5zZXRDdXJzb3JQb3NpdGlvbihqc0tleWJvYXJkLmN1cnJlbnRFbGVtZW50Q3Vyc29yUG9zaXRpb24pO1xuICAgIH0sXG4gICAgd3JpdGU6IGZ1bmN0aW9uIHdyaXRlKG0pIHtcbiAgICAgICAgdmFyIGEgPSBqc0tleWJvYXJkLmN1cnJlbnRFbGVtZW50LnZhbCgpLFxuICAgICAgICAgICAgYiA9IFN0cmluZy5mcm9tQ2hhckNvZGUobSksXG4gICAgICAgICAgICBwb3MgPSBqc0tleWJvYXJkLmN1cnJlbnRFbGVtZW50Q3Vyc29yUG9zaXRpb24sXG4gICAgICAgICAgICBvdXRwdXQgPSBbYS5zbGljZSgwLCBwb3MpLCBiLCBhLnNsaWNlKHBvcyldLmpvaW4oJycpO1xuICAgICAgICBqc0tleWJvYXJkLmN1cnJlbnRFbGVtZW50LnZhbChvdXRwdXQpO1xuICAgICAgICBqc0tleWJvYXJkLmN1cnJlbnRFbGVtZW50Q3Vyc29yUG9zaXRpb24rKzsgLy8rMSBjdXJzb3JcbiAgICAgICAganNLZXlib2FyZC51cGRhdGVDdXJzb3IoKTtcbiAgICB9LFxuICAgIGRlbDogZnVuY3Rpb24gZGVsKCkge1xuICAgICAgICB2YXIgYSA9IGpzS2V5Ym9hcmQuY3VycmVudEVsZW1lbnQudmFsKCksXG4gICAgICAgICAgICBwb3MgPSBqc0tleWJvYXJkLmN1cnJlbnRFbGVtZW50Q3Vyc29yUG9zaXRpb24sXG4gICAgICAgICAgICBvdXRwdXQgPSBbYS5zbGljZSgwLCBwb3MgLSAxKSwgYS5zbGljZShwb3MpXS5qb2luKCcnKTtcbiAgICAgICAganNLZXlib2FyZC5jdXJyZW50RWxlbWVudC52YWwob3V0cHV0KTtcbiAgICAgICAganNLZXlib2FyZC5jdXJyZW50RWxlbWVudEN1cnNvclBvc2l0aW9uLS07IC8vLTEgY3Vyc29yXG4gICAgICAgIGpzS2V5Ym9hcmQudXBkYXRlQ3Vyc29yKCk7XG4gICAgfSxcbiAgICBlbnRlcjogZnVuY3Rpb24gZW50ZXIoKSB7XG4gICAgICAgIHZhciB0ID0ganNLZXlib2FyZC5jdXJyZW50RWxlbWVudC52YWwoKTtcbiAgICAgICAganNLZXlib2FyZC5jdXJyZW50RWxlbWVudC52YWwodCArIFwiXFxuXCIpO1xuICAgIH0sXG4gICAgc3BhY2U6IGZ1bmN0aW9uIHNwYWNlKCkge1xuICAgICAgICB2YXIgYSA9IGpzS2V5Ym9hcmQuY3VycmVudEVsZW1lbnQudmFsKCksXG4gICAgICAgICAgICBiID0gXCIgXCIsXG4gICAgICAgICAgICBwb3MgPSBqc0tleWJvYXJkLmN1cnJlbnRFbGVtZW50Q3Vyc29yUG9zaXRpb24sXG4gICAgICAgICAgICBvdXRwdXQgPSBbYS5zbGljZSgwLCBwb3MpLCBiLCBhLnNsaWNlKHBvcyldLmpvaW4oJycpO1xuICAgICAgICBqc0tleWJvYXJkLmN1cnJlbnRFbGVtZW50LnZhbChvdXRwdXQpO1xuICAgICAgICBqc0tleWJvYXJkLmN1cnJlbnRFbGVtZW50Q3Vyc29yUG9zaXRpb24rKzsgLy8rMSBjdXJzb3JcbiAgICAgICAganNLZXlib2FyZC51cGRhdGVDdXJzb3IoKTtcbiAgICB9LFxuICAgIHdyaXRlU3BlY2lhbDogZnVuY3Rpb24gd3JpdGVTcGVjaWFsKG0pIHtcbiAgICAgICAgdmFyIGEgPSBqc0tleWJvYXJkLmN1cnJlbnRFbGVtZW50LnZhbCgpLFxuICAgICAgICAgICAgYiA9IFN0cmluZy5mcm9tQ2hhckNvZGUobSksXG4gICAgICAgICAgICBwb3MgPSBqc0tleWJvYXJkLmN1cnJlbnRFbGVtZW50Q3Vyc29yUG9zaXRpb24sXG4gICAgICAgICAgICBvdXRwdXQgPSBbYS5zbGljZSgwLCBwb3MpLCBiLCBhLnNsaWNlKHBvcyldLmpvaW4oJycpO1xuICAgICAgICBqc0tleWJvYXJkLmN1cnJlbnRFbGVtZW50LnZhbChvdXRwdXQpO1xuICAgICAgICBqc0tleWJvYXJkLmN1cnJlbnRFbGVtZW50Q3Vyc29yUG9zaXRpb24rKzsgLy8rMSBjdXJzb3JcbiAgICAgICAganNLZXlib2FyZC51cGRhdGVDdXJzb3IoKTtcbiAgICB9LFxuICAgIHNob3c6IGZ1bmN0aW9uIHNob3coKSB7XG4gICAgICAgICQoXCIja2V5Ym9hcmRcIikuYW5pbWF0ZSh7IFwiYm90dG9tXCI6IFwiMFwiIH0sIFwic2xvd1wiLCBmdW5jdGlvbiAoKSB7fSk7XG4gICAgfSxcbiAgICBoaWRlOiBmdW5jdGlvbiBoaWRlKCkge1xuICAgICAgICAkKFwiI2tleWJvYXJkXCIpLmFuaW1hdGUoeyBcImJvdHRvbVwiOiBcIi0zNTBweFwiIH0sIFwic2xvd1wiLCBmdW5jdGlvbiAoKSB7fSk7XG4gICAgfSxcbiAgICBkZWZhdWx0S2V5Ym9hcmQ6IHtcbiAgICAgICAgY2FwaXRhbExldHRlcjogW1xuICAgICAgICAvLyAxc3Qgcm93XG4gICAgICAgIHsgdmFsdWU6IDgxIH0sIHsgdmFsdWU6IDg3IH0sIHsgdmFsdWU6IDY5IH0sIHsgdmFsdWU6IDgyIH0sIHsgdmFsdWU6IDg0IH0sIHsgdmFsdWU6IDg5IH0sIHsgdmFsdWU6IDg1IH0sIHsgdmFsdWU6IDczIH0sIHsgdmFsdWU6IDc5IH0sIHsgdmFsdWU6IDgwIH0sIHsgdmFsdWU6IFwiRGVsZXRlXCIsIGlzQ2hhcjogXCJmYWxzZVwiLCBvbmNsaWNrOiBcImpzS2V5Ym9hcmQuZGVsKClcIiwgYnV0dG9uQ2xhc3M6IFwiYnV0dG9uIGJ1dHRvbl9kZWxcIiwga2V5Q2xhc3M6IFwia2V5IGtleV9kZWxcIiB9LFxuICAgICAgICAvLyAybmQgcm93XG4gICAgICAgIHsgdmFsdWU6IDY1LCBidXR0b25DbGFzczogXCJidXR0b24gYnV0dG9uX2FcIiB9LCB7IHZhbHVlOiA4MyB9LCB7IHZhbHVlOiA2OCB9LCB7IHZhbHVlOiA3MCB9LCB7IHZhbHVlOiA3MSB9LCB7IHZhbHVlOiA3MiB9LCB7IHZhbHVlOiA3NCB9LCB7IHZhbHVlOiA3NSB9LCB7IHZhbHVlOiA3NiB9LCB7IHZhbHVlOiBcIkVudGVyXCIsIGlzQ2hhcjogXCJmYWxzZVwiLCBidXR0b25DbGFzczogXCJidXR0b24gYnV0dG9uX2VudGVyXCIsIG9uY2xpY2s6IFwianNLZXlib2FyZC5lbnRlcigpO1wiLCBrZXlDbGFzczogXCJrZXkga2V5X2VudGVyXCIgfSxcbiAgICAgICAgLy8gM3JkIHJvd1xuICAgICAgICB7IHZhbHVlOiBcImFiY1wiLCBpc0NoYXI6IFwiZmFsc2VcIiwgYnV0dG9uQ2xhc3M6IFwiYnV0dG9uIGJ1dHRvbl9zbWFsbGxldHRlclwiLCBvbmNsaWNrOiBcImpzS2V5Ym9hcmQuY2hhbmdlVG9TbWFsbExldHRlcigpO1wiLCBrZXlDbGFzczogXCJrZXkga2V5X3NtYWxsbGV0dGVyXCIgfSwgeyB2YWx1ZTogOTAgfSwgeyB2YWx1ZTogODggfSwgeyB2YWx1ZTogNjcgfSwgeyB2YWx1ZTogODYgfSwgeyB2YWx1ZTogNjYgfSwgeyB2YWx1ZTogNzggfSwgeyB2YWx1ZTogNzcgfSwgeyB2YWx1ZTogNDQgfSwgeyB2YWx1ZTogNDYgfSwgeyB2YWx1ZTogNjQgfSxcbiAgICAgICAgLy8gNHRoIHJvd1xuICAgICAgICB7IHZhbHVlOiBcIjEyM1wiLCBpc0NoYXI6IFwiZmFsc2VcIiwgYnV0dG9uQ2xhc3M6IFwiYnV0dG9uIGJ1dHRvbl9udW1iZXJsZWZ0XCIsIG9uY2xpY2s6IFwianNLZXlib2FyZC5jaGFuZ2VUb051bWJlcigpO1wiLCBrZXlDbGFzczogXCJrZXkga2V5X251bWJlclwiIH0sIHsgdmFsdWU6IFwiU3BhY2VcIiwgaXNDaGFyOiBcImZhbHNlXCIsIGJ1dHRvbkNsYXNzOiBcImJ1dHRvbiBidXR0b25fc3BhY2VcIiwgb25jbGljazogXCJqc0tleWJvYXJkLnNwYWNlKCk7XCIsIGtleUNsYXNzOiBcImtleSBrZXlfc3BhY2VcIiB9LCB7IHZhbHVlOiBcIiMkK1wiLCBpc0NoYXI6IFwiZmFsc2VcIiwgYnV0dG9uQ2xhc3M6IFwiYnV0dG9uIGJ1dHRvbl9zeW1ib2xzcmlnaHRcIiwgb25jbGljazogXCJqc0tleWJvYXJkLmNoYW5nZVRvU3ltYm9scygpO1wiLCBrZXlDbGFzczogXCJrZXkga2V5X3N5bWJvbHNcIiB9XSxcbiAgICAgICAgc21hbGxMZXR0ZXI6IFtcbiAgICAgICAgLy8gMXN0IHJvd1xuICAgICAgICB7IHZhbHVlOiAxMTMgfSwgeyB2YWx1ZTogMTE5IH0sIHsgdmFsdWU6IDEwMSB9LCB7IHZhbHVlOiAxMTQgfSwgeyB2YWx1ZTogMTE2IH0sIHsgdmFsdWU6IDEyMSB9LCB7IHZhbHVlOiAxMTcgfSwgeyB2YWx1ZTogMTA1IH0sIHsgdmFsdWU6IDExMSB9LCB7IHZhbHVlOiAxMTIgfSwgeyB2YWx1ZTogXCJEZWxldGVcIiwgaXNDaGFyOiBcImZhbHNlXCIsIG9uY2xpY2s6IFwianNLZXlib2FyZC5kZWwoKVwiLCBidXR0b25DbGFzczogXCJidXR0b24gYnV0dG9uX2RlbFwiLCBrZXlDbGFzczogXCJrZXkga2V5X2RlbFwiIH0sXG4gICAgICAgIC8vIDJuZCByb3dcbiAgICAgICAgeyB2YWx1ZTogOTcsIGJ1dHRvbkNsYXNzOiBcImJ1dHRvbiBidXR0b25fYVwiIH0sIHsgdmFsdWU6IDExNSB9LCB7IHZhbHVlOiAxMDAgfSwgeyB2YWx1ZTogMTAyIH0sIHsgdmFsdWU6IDEwMyB9LCB7IHZhbHVlOiAxMDQgfSwgeyB2YWx1ZTogMTA2IH0sIHsgdmFsdWU6IDEwNyB9LCB7IHZhbHVlOiAxMDggfSwgeyB2YWx1ZTogXCJFbnRlclwiLCBpc0NoYXI6IFwiZmFsc2VcIiwgYnV0dG9uQ2xhc3M6IFwiYnV0dG9uIGJ1dHRvbl9lbnRlclwiLCBvbmNsaWNrOiBcImpzS2V5Ym9hcmQuZW50ZXIoKTtcIiwga2V5Q2xhc3M6IFwia2V5IGtleV9lbnRlclwiIH0sXG4gICAgICAgIC8vIDNyZCByb3dcbiAgICAgICAgeyB2YWx1ZTogXCJBQkNcIiwgaXNDaGFyOiBcImZhbHNlXCIsIGJ1dHRvbkNsYXNzOiBcImJ1dHRvbiBidXR0b25fY2FwaXRhbGxldHRlcmxlZnRcIiwgb25jbGljazogXCJqc0tleWJvYXJkLmNoYW5nZVRvQ2FwaXRhbExldHRlcigpO1wiLCBrZXlDbGFzczogXCJrZXkga2V5X2NhcGl0YWxsZXR0ZXJsZWZ0XCIgfSwgeyB2YWx1ZTogMTIyIH0sIHsgdmFsdWU6IDEyMCB9LCB7IHZhbHVlOiA5OSB9LCB7IHZhbHVlOiAxMTggfSwgeyB2YWx1ZTogOTggfSwgeyB2YWx1ZTogMTEwIH0sIHsgdmFsdWU6IDEwOSB9LCB7IHZhbHVlOiA0NCB9LCB7IHZhbHVlOiA0NiB9LCB7IHZhbHVlOiA2NCB9LFxuICAgICAgICAvLyA0dGggcm93XG4gICAgICAgIHsgdmFsdWU6IFwiMTIzXCIsIGlzQ2hhcjogXCJmYWxzZVwiLCBidXR0b25DbGFzczogXCJidXR0b24gYnV0dG9uX251bWJlcmxlZnRcIiwgb25jbGljazogXCJqc0tleWJvYXJkLmNoYW5nZVRvTnVtYmVyKCk7XCIsIGtleUNsYXNzOiBcImtleSBrZXlfbnVtYmVyXCIgfSxcbiAgICAgICAgLy8geyB2YWx1ZTogMzIsIGJ1dHRvbkNsYXNzOiBcImJ1dHRvbiBidXR0b25fc3BhY2VcIiB9LFxuICAgICAgICB7IHZhbHVlOiBcIlNwYWNlXCIsIGlzQ2hhcjogXCJmYWxzZVwiLCBidXR0b25DbGFzczogXCJidXR0b24gYnV0dG9uX3NwYWNlXCIsIG9uY2xpY2s6IFwianNLZXlib2FyZC5zcGFjZSgpO1wiLCBrZXlDbGFzczogXCJrZXkga2V5X3NwYWNlXCIgfSwgeyB2YWx1ZTogXCIjJStcIiwgaXNDaGFyOiBcImZhbHNlXCIsIGJ1dHRvbkNsYXNzOiBcImJ1dHRvbiBidXR0b25fc3ltYm9sc3JpZ2h0XCIsIG9uY2xpY2s6IFwianNLZXlib2FyZC5jaGFuZ2VUb1N5bWJvbHMoKTtcIiwga2V5Q2xhc3M6IFwia2V5IGtleV9zeW1ib2xzXCIgfV0sXG4gICAgICAgIG51bWJlcjogW1xuICAgICAgICAvLyAxc3Qgcm93XG4gICAgICAgIHsgdmFsdWU6IDQ5IH0sIHsgdmFsdWU6IDUwIH0sIHsgdmFsdWU6IDUxIH0sIHsgdmFsdWU6IDUyIH0sIHsgdmFsdWU6IDUzIH0sIHsgdmFsdWU6IDU0IH0sIHsgdmFsdWU6IDU1IH0sIHsgdmFsdWU6IDU2IH0sIHsgdmFsdWU6IDU3IH0sIHsgdmFsdWU6IDQ4IH0sIHsgdmFsdWU6IFwiRGVsZXRlXCIsIGlzQ2hhcjogXCJmYWxzZVwiLCBvbmNsaWNrOiBcImpzS2V5Ym9hcmQuZGVsKClcIiwgYnV0dG9uQ2xhc3M6IFwiYnV0dG9uIGJ1dHRvbl9kZWxcIiwga2V5Q2xhc3M6IFwia2V5IGtleV9kZWxcIiB9LFxuICAgICAgICAvLyAybmQgcm93XG4gICAgICAgIHsgdmFsdWU6IDQ1LCBidXR0b25DbGFzczogXCJidXR0b24gYnV0dG9uX2Rhc2hcIiB9LCB7IHZhbHVlOiA0NyB9LCB7IHZhbHVlOiA1OCB9LCB7IHZhbHVlOiA1OSB9LCB7IHZhbHVlOiA0MCB9LCB7IHZhbHVlOiA0MSB9LCB7IHZhbHVlOiAzNiB9LCB7IHZhbHVlOiAzOCB9LCB7IHZhbHVlOiA2NCB9LCB7IHZhbHVlOiBcIkVudGVyXCIsIGlzQ2hhcjogXCJmYWxzZVwiLCBidXR0b25DbGFzczogXCJidXR0b24gYnV0dG9uX2VudGVyXCIsIG9uY2xpY2s6IFwianNLZXlib2FyZC5lbnRlcigpO1wiLCBrZXlDbGFzczogXCJrZXkga2V5X2VudGVyXCIgfSxcbiAgICAgICAgLy8zcmQgcm93XG4gICAgICAgIC8vIHsgdmFsdWU6IFwiQUJDXCIsIGlzQ2hhcjogXCJmYWxzZVwiLCBidXR0b25DbGFzczogXCJidXR0b24gYnV0dG9uX2NhcGl0YWxsZXR0ZXJsZWZ0XCIsIG9uY2xpY2s6IFwianNLZXlib2FyZC5jaGFuZ2VUb0NhcGl0YWxMZXR0ZXIoKVwiLCBrZXlDbGFzczogXCJrZXkga2V5X2NhcGl0YWxsZXR0ZXJsZWZ0XCIgfSxcbiAgICAgICAgeyB2YWx1ZTogXCJcIiwgaXNDaGFyOiBcImZhbHNlXCIsIGJ1dHRvbkNsYXNzOiBcImJ1dHRvbiBidXR0b25fY2FwaXRhbGxldHRlcmxlZnRcIiwgb25jbGljazogXCJcIiwga2V5Q2xhc3M6IFwia2V5XCIgfSwgeyB2YWx1ZTogNjMgfSwgeyB2YWx1ZTogMzMgfSwgeyB2YWx1ZTogMzQgfSwgeyB2YWx1ZTogMTI0IH0sIHsgdmFsdWU6IDkyIH0sIHsgdmFsdWU6IDQyIH0sIHsgdmFsdWU6IDYxIH0sIHsgdmFsdWU6IDQzIH0sXG4gICAgICAgIC8vIHsgdmFsdWU6IFwiQUJDXCIsIGlzQ2hhcjogXCJmYWxzZVwiLCBidXR0b25DbGFzczogXCJidXR0b24gYnV0dG9uX2NhcGl0YWxsZXR0ZXJyaWdodFwiLCBvbmNsaWNrOiBcImpzS2V5Ym9hcmQuY2hhbmdlVG9DYXBpdGFsTGV0dGVyKCk7XCIsIGtleUNsYXNzOiBcImtleSBrZXlfY2FwaXRhbGxldHRlcnJpZ2h0XCIgfSxcbiAgICAgICAgeyB2YWx1ZTogXCJcIiwgaXNDaGFyOiBcImZhbHNlXCIsIGJ1dHRvbkNsYXNzOiBcImJ1dHRvblwiLCBvbmNsaWNrOiBcIlwiLCBrZXlDbGFzczogXCJrZXlcIiB9LCB7IHZhbHVlOiBcIlwiLCBpc0NoYXI6IFwiZmFsc2VcIiwgYnV0dG9uQ2xhc3M6IFwiYnV0dG9uXCIsIG9uY2xpY2s6IFwiXCIsIGtleUNsYXNzOiBcImtleVwiIH0sXG5cbiAgICAgICAgLy8gNHRoIHJvd1xuICAgICAgICB7IHZhbHVlOiBcIkFCQ1wiLCBpc0NoYXI6IFwiZmFsc2VcIiwgYnV0dG9uQ2xhc3M6IFwiYnV0dG9uIGJ1dHRvbl9udW1iZXJsZWZ0XCIsIG9uY2xpY2s6IFwianNLZXlib2FyZC5jaGFuZ2VUb0NhcGl0YWxMZXR0ZXIoKTtcIiwga2V5Q2xhc3M6IFwia2V5IGtleV9jYXBpdGFsbGV0dGVybGVmdFwiIH0sIHsgdmFsdWU6IFwiU3BhY2VcIiwgaXNDaGFyOiBcImZhbHNlXCIsIGJ1dHRvbkNsYXNzOiBcImJ1dHRvbiBidXR0b25fc3BhY2VcIiwgb25jbGljazogXCJqc0tleWJvYXJkLnNwYWNlKCk7XCIsIGtleUNsYXNzOiBcImtleSBrZXlfc3BhY2VcIiB9LCB7IHZhbHVlOiBcIiMkK1wiLCBpc0NoYXI6IFwiZmFsc2VcIiwgYnV0dG9uQ2xhc3M6IFwiYnV0dG9uIGJ1dHRvbl9zeW1ib2xzcmlnaHRcIiwgb25jbGljazogXCJqc0tleWJvYXJkLmNoYW5nZVRvU3ltYm9scygpO1wiLCBrZXlDbGFzczogXCJrZXkga2V5X3N5bWJvbHNcIiB9XSxcbiAgICAgICAgc3ltYm9sczogW1xuICAgICAgICAvLyAxc3Qgcm93XG4gICAgICAgIHsgdmFsdWU6IDkxIH0sIHsgdmFsdWU6IDkzIH0sIHsgdmFsdWU6IDEyMyB9LCB7IHZhbHVlOiAxMjUgfSwgeyB2YWx1ZTogMzUgfSwgeyB2YWx1ZTogMzcgfSwgeyB2YWx1ZTogOTQgfSwgeyB2YWx1ZTogNDIgfSwgeyB2YWx1ZTogNDMgfSwgeyB2YWx1ZTogNjEgfSwgeyB2YWx1ZTogXCJEZWxldGVcIiwgaXNDaGFyOiBcImZhbHNlXCIsIG9uY2xpY2s6IFwianNLZXlib2FyZC5kZWwoKVwiLCBidXR0b25DbGFzczogXCJidXR0b24gYnV0dG9uX2RlbFwiLCBrZXlDbGFzczogXCJrZXkga2V5X2RlbFwiIH0sXG4gICAgICAgIC8vIDJuZCByb3dcbiAgICAgICAgeyB2YWx1ZTogOTUsIGJ1dHRvbkNsYXNzOiBcImJ1dHRvbiBidXR0b25fdW5kZXJzY29yZVwiIH0sIHsgdmFsdWU6IDkyIH0sIHsgdmFsdWU6IDEyNCB9LCB7IHZhbHVlOiAxMjYgfSwgeyB2YWx1ZTogNjAgfSwgeyB2YWx1ZTogNjIgfSwgeyB2YWx1ZTogXCImZXVybztcIiwgaXNDaGFyOiBcImZhbHNlXCIsIG9uY2xpY2s6IFwianNLZXlib2FyZC53cml0ZVNwZWNpYWwoJyZldXJvOycpO1wiIH0sIHsgdmFsdWU6IDE2MyB9LCB7IHZhbHVlOiAxNjUgfSwgeyB2YWx1ZTogXCJFbnRlclwiLCBpc0NoYXI6IFwiZmFsc2VcIiwgYnV0dG9uQ2xhc3M6IFwiYnV0dG9uIGJ1dHRvbl9lbnRlclwiLCBvbmNsaWNrOiBcImpzS2V5Ym9hcmQuZW50ZXIoKTtcIiwga2V5Q2xhc3M6IFwia2V5IGtleV9lbnRlclwiIH0sXG4gICAgICAgIC8vIDNyZCByb3dcbiAgICAgICAgLy8geyB2YWx1ZTogXCJBQkNcIiwgaXNDaGFyOiBcImZhbHNlXCIsIGJ1dHRvbkNsYXNzOiBcImJ1dHRvbiBidXR0b25fY2FwaXRhbGxldHRlcmxlZnRcIiwgb25jbGljazogXCJqc0tleWJvYXJkLmNoYW5nZVRvQ2FwaXRhbExldHRlcigpO1wiLCBrZXlDbGFzczogXCJrZXkga2V5X2NhcGl0YWxsZXR0ZXJsZWZ0XCIgfSxcbiAgICAgICAgeyB2YWx1ZTogXCJcIiwgaXNDaGFyOiBcImZhbHNlXCIsIGJ1dHRvbkNsYXNzOiBcImJ1dHRvbiBidXR0b25fY2FwaXRhbGxldHRlcmxlZnRcIiwgb25jbGljazogXCJcIiwga2V5Q2xhc3M6IFwia2V5XCIgfSwgeyB2YWx1ZTogNDYgfSwgeyB2YWx1ZTogNDQgfSwgeyB2YWx1ZTogNjMgfSwgeyB2YWx1ZTogMzMgfSwgeyB2YWx1ZTogMzkgfSwgeyB2YWx1ZTogMzQgfSwgeyB2YWx1ZTogNTkgfSwgeyB2YWx1ZTogOTIgfSxcbiAgICAgICAgLy8geyB2YWx1ZTogXCJBQkNcIiwgaXNDaGFyOiBcImZhbHNlXCIsIGJ1dHRvbkNsYXNzOiBcImJ1dHRvbiBidXR0b25fY2FwaXRhbGxldHRlcnJpZ2h0XCIsIG9uY2xpY2s6IFwianNLZXlib2FyZC5jaGFuZ2VUb0NhcGl0YWxMZXR0ZXIoKTtcIiwga2V5Q2xhc3M6IFwia2V5IGtleV9jYXBpdGFsbGV0dGVycmlnaHRcIiB9LFxuICAgICAgICB7IHZhbHVlOiBcIlwiLCBpc0NoYXI6IFwiZmFsc2VcIiwgYnV0dG9uQ2xhc3M6IFwiYnV0dG9uXCIsIG9uY2xpY2s6IFwiXCIsIGtleUNsYXNzOiBcImtleVwiIH0sIHsgdmFsdWU6IFwiXCIsIGlzQ2hhcjogXCJmYWxzZVwiLCBidXR0b25DbGFzczogXCJidXR0b25cIiwgb25jbGljazogXCJcIiwga2V5Q2xhc3M6IFwia2V5XCIgfSxcbiAgICAgICAgLy8gNHRoIHJvd1xuICAgICAgICB7IHZhbHVlOiBcIjEyM1wiLCBpc0NoYXI6IFwiZmFsc2VcIiwgYnV0dG9uQ2xhc3M6IFwiYnV0dG9uIGJ1dHRvbl9udW1iZXJsZWZ0XCIsIG9uY2xpY2s6IFwianNLZXlib2FyZC5jaGFuZ2VUb051bWJlcigpO1wiLCBrZXlDbGFzczogXCJrZXkga2V5X251bWJlclwiIH0sIHsgdmFsdWU6IFwiU3BhY2VcIiwgaXNDaGFyOiBcImZhbHNlXCIsIGJ1dHRvbkNsYXNzOiBcImJ1dHRvbiBidXR0b25fc3BhY2VcIiwgb25jbGljazogXCJqc0tleWJvYXJkLnNwYWNlKCk7XCIsIGtleUNsYXNzOiBcImtleSBrZXlfc3BhY2VcIiB9LCB7IHZhbHVlOiBcIkFCQ1wiLCBpc0NoYXI6IFwiZmFsc2VcIiwgYnV0dG9uQ2xhc3M6IFwiYnV0dG9uIGJ1dHRvbl9zeW1ib2xzcmlnaHRcIiwgb25jbGljazogXCJqc0tleWJvYXJkLmNoYW5nZVRvQ2FwaXRhbExldHRlcigpO1wiLCBrZXlDbGFzczogXCJrZXkga2V5X2NhcGl0YWxsZXR0ZXJsZWZ0XCIgfV1cbiAgICB9XG59O1xuXG4vLyBHRVQgQ1VSU09SIFBPU0lUSU9OXG5qUXVlcnkuZm4uZ2V0Q3Vyc29yUG9zaXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMubGVuZ2ggPT0gMCkgcmV0dXJuIC0xO1xuICAgIHJldHVybiAkKHRoaXMpLmdldFNlbGVjdGlvblN0YXJ0KCk7XG59O1xuXG5qUXVlcnkuZm4uZ2V0U2VsZWN0aW9uU3RhcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMubGVuZ2ggPT0gMCkgcmV0dXJuIC0xO1xuICAgIGlucHV0ID0gdGhpc1swXTtcblxuICAgIHZhciBwb3MgPSBpbnB1dC52YWx1ZS5sZW5ndGg7XG5cbiAgICBpZiAoaW5wdXQuY3JlYXRlVGV4dFJhbmdlKSB7XG4gICAgICAgIHZhciByID0gZG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCkuZHVwbGljYXRlKCk7XG4gICAgICAgIHIubW92ZUVuZCgnY2hhcmFjdGVyJywgaW5wdXQudmFsdWUubGVuZ3RoKTtcbiAgICAgICAgaWYgKHIudGV4dCA9PSAnJykgcG9zID0gaW5wdXQudmFsdWUubGVuZ3RoO1xuICAgICAgICBwb3MgPSBpbnB1dC52YWx1ZS5sYXN0SW5kZXhPZihyLnRleHQpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGlucHV0LnNlbGVjdGlvblN0YXJ0ICE9IFwidW5kZWZpbmVkXCIpIHBvcyA9IGlucHV0LnNlbGVjdGlvblN0YXJ0O1xuXG4gICAgcmV0dXJuIHBvcztcbn07XG5cbi8vU0VUIENVUlNPUiBQT1NJVElPTlxualF1ZXJ5LmZuLnNldEN1cnNvclBvc2l0aW9uID0gZnVuY3Rpb24gKHBvcykge1xuICAgIHRoaXMuZWFjaChmdW5jdGlvbiAoaW5kZXgsIGVsZW0pIHtcbiAgICAgICAgaWYgKGVsZW0uc2V0U2VsZWN0aW9uUmFuZ2UpIHtcbiAgICAgICAgICAgIGVsZW0uc2V0U2VsZWN0aW9uUmFuZ2UocG9zLCBwb3MpO1xuICAgICAgICB9IGVsc2UgaWYgKGVsZW0uY3JlYXRlVGV4dFJhbmdlKSB7XG4gICAgICAgICAgICB2YXIgcmFuZ2UgPSBlbGVtLmNyZWF0ZVRleHRSYW5nZSgpO1xuICAgICAgICAgICAgcmFuZ2UuY29sbGFwc2UodHJ1ZSk7XG4gICAgICAgICAgICByYW5nZS5tb3ZlRW5kKCdjaGFyYWN0ZXInLCBwb3MpO1xuICAgICAgICAgICAgcmFuZ2UubW92ZVN0YXJ0KCdjaGFyYWN0ZXInLCBwb3MpO1xuICAgICAgICAgICAgcmFuZ2Uuc2VsZWN0KCk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcztcbn07XG4ndXNlIHN0cmljdCc7XG5cbi8vIFdhaXQgZm9yICdXZWJDb21wb25lbnRzUmVhZHknLlxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ1dlYkNvbXBvbmVudHNSZWFkeScsIGZ1bmN0aW9uIChlKSB7XG4gIHZhciBzaGVldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3Jpc2UtZ29vZ2xlLXNoZWV0Jyk7XG5cbiAgLy8gUmVzcG9uZCB0byBldmVudHMgaXQgZmlyZXMuXG4gIHNoZWV0LmFkZEV2ZW50TGlzdGVuZXIoJ3Jpc2UtZ29vZ2xlLXNoZWV0LXJlc3BvbnNlJywgZnVuY3Rpb24gKGUpIHtcbiAgICBpZiAoZS5kZXRhaWwgJiYgZS5kZXRhaWwucmVzdWx0cykge1xuICAgICAgLy8gY29uc29sZS5sb2coZS5kZXRhaWwucmVzdWx0cyk7IC8vIEFycmF5IG9mIHZhbHVlc1xuXG4gICAgICBkaXNwbGF5UmVzdWx0cyhlLmRldGFpbC5yZXN1bHRzKTtcbiAgICB9XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIGRpc3BsYXlSZXN1bHRzKHJlc3VsdHMpIHtcbiAgICB2YXIgcmVzdWx0cyA9IHJlc3VsdHM7XG4gICAgcmVzdWx0cy5zaGlmdCgpO1xuXG4gICAgY29uc29sZS5sb2cocmVzdWx0cyk7XG5cbiAgICAvLyByb3dFbnRyeS5pbm5lckhUTUwgPSBcIjxwIGNsYXNzID0gJ2NvbHVtbjEnPlwiICsgXCI8aW1nIHNyYz0nXCIrIGMxLnRleHRDb250ZW50ICtcIic+XCIgKyBcIjwvcD5cIiArIFwiPHAgY2xhc3M9J25hbWUgY29sdW1uMic+XCIgKyBjMi50ZXh0Q29udGVudCArIFwiPC9wPlwiICsgXCI8cCBjbGFzcyA9ICd0aXRsZSBjb2x1bW4zJz5cIiArIGMzLnRleHRDb250ZW50ICsgXCI8L3A+XCIgKyBcIjxwIGNsYXNzPSdwaG9uZSBjb2x1bW40Jz5cIisgYzQudGV4dENvbnRlbnQgK1wiPC9wPlwiKyBcIjxwIGNsYXNzPSdlbWFpbCBjb2x1bW41Jz5cIisgYzUudGV4dENvbnRlbnQgK1wiPC9wPlwiXG5cbiAgICAvLyAgICAgICAgICRkaXJlY3RvcnlMaXN0LmFwcGVuZChyb3dFbnRyeSk7XG5cbiAgICAvKiBEZXRhaWxzIENhcmQuICovXG4gICAgZnVuY3Rpb24gc2V0Q2FyZEF0dHJpYnV0ZXMoZWwsIGF0dHJzKSB7XG4gICAgICBmb3IgKHZhciBrZXkgaW4gYXR0cnMpIHtcbiAgICAgICAgZWwuc2V0QXR0cmlidXRlKGtleSwgYXR0cnNba2V5XSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHBlb3BsZSA9IHJlc3VsdHMubWFwKGZ1bmN0aW9uIChwZXJzb24pIHtcblxuICAgICAgc2V0Q2FyZEF0dHJpYnV0ZXMocmVzdWx0cywgeyBcImRldGFpbENvbHVtbjFcIjogcGVyc29uWzBdLCBcImRldGFpbENvbHVtbjJcIjogcGVyc29uWzFdLCBcImRldGFpbENvbHVtbjNcIjogcGVyc29uWzJdLCBcImRldGFpbENvbHVtbjRcIjogcGVyc29uWzNdLCBcImRldGFpbENvbHVtbjVcIjogcGVyc29uWzRdLCBcImRldGFpbENvbHVtbjZcIjogcGVyc29uWzVdIH0pO1xuXG4gICAgICByZXR1cm4gJzxsaT5cXG4gICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cXCdjb2x1bW4xXFwnPjxpbWcgc3JjPScgKyBwZXJzb25bMF0gKyAnPjwvcD5cXG4gICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cXCduYW1lIGNvbHVtbjJcXCc+XFxuICAgICAgICAgICAgICAgICAgICAnICsgcGVyc29uWzFdICsgJ1xcbiAgICAgICAgICAgICAgICAgIDwvcD5cXG4gICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cXCd0aXRsZSBjb2x1bW4zXFwnPlxcbiAgICAgICAgICAgICAgICAgICAgJyArIHBlcnNvblsyXSArICdcXG4gICAgICAgICAgICAgICAgICA8L3A+XFxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XFwncGhvbmUgY29sdW1uNFxcJz5cXG4gICAgICAgICAgICAgICAgICAgICcgKyBwZXJzb25bM10gKyAnXFxuICAgICAgICAgICAgICAgICAgPC9wPlxcbiAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVxcJ2VtYWlsIGNvbHVtbjVcXCc+XFxuICAgICAgICAgICAgICAgICAgICAnICsgcGVyc29uWzRdICsgJ1xcbiAgICAgICAgICAgICAgICAgIDwvcD5cXG4gICAgICAgICAgICAgICAgPC9saT4nO1xuICAgIH0pO1xuXG4gICAgJChcIi5saXN0XCIpLmFwcGVuZChwZW9wbGUpO1xuXG4gICAgLy8gY29uc29sZS5sb2cocmVzdWx0cyk7IC8vIEFycmF5IG9mIHZhbHVlc1xuICB9XG5cbiAgc2hlZXQuZ28oKTsgLy8gRXhlY3V0ZXMgYSByZXF1ZXN0LlxufSk7IiwiJChmdW5jdGlvbigpe1xuXG4vL21haW4gdmFyaWFibGVzXG4gIHZhciAkcGFnZSA9ICQoXCIucGFnZVwiKTtcbiAgdmFyICR3cmFwcGVyID0gJChcIi53cmFwcGVyXCIpO1xuICB2YXIgJG92ZXJsYXkgPSAkKFwiLm92ZXJsYXlcIik7XG4gIHZhciAkY2FyZCA9ICQoXCIuY2FyZFwiKTtcblxuICAvL29wZW4gbW9kYWwgd2hlbiBjYXJkIGlzIGNsaWNrZWRcbiAgJHBhZ2Uub24oXCJjbGlja1wiLFwiLmRpcmVjdG9yeV9fcm93XCIsIGZ1bmN0aW9uKCl7XG5cbiAgLy9wb3B1cCBjYXJkIGRldGFpbHNcbiAgICB2YXIgJGRldGFpbEMxID0gJCh0aGlzKS5hdHRyKFwiZGV0YWlsQ29sdW1uMVwiKTtcbiAgICB2YXIgJGRldGFpbEMyID0gJCh0aGlzKS5hdHRyKFwiZGV0YWlsQ29sdW1uMlwiKTtcbiAgICB2YXIgJGRldGFpbEMzID0gJCh0aGlzKS5hdHRyKFwiZGV0YWlsQ29sdW1uM1wiKTtcbiAgICB2YXIgJGRldGFpbEM0ID0gJCh0aGlzKS5hdHRyKFwiZGV0YWlsQ29sdW1uNFwiKTtcbiAgICB2YXIgJGRldGFpbEM1ID0gJCh0aGlzKS5hdHRyKFwiZGV0YWlsQ29sdW1uNVwiKTtcbiAgICB2YXIgJGRldGFpbEM2ID0gJCh0aGlzKS5hdHRyKFwiZGV0YWlsQ29sdW1uNlwiKTtcblxuICAgICRjYXJkLmZpbmQoXCIuZGV0YWlsX19jb2x1bW4xXCIpLmF0dHIoXCJzcmNcIiwkZGV0YWlsQzEpO1xuICAgICRjYXJkLmZpbmQoXCIuZGV0YWlsX19jb2x1bW4yXCIpLnRleHQoJGRldGFpbEMyKTtcbiAgICAkY2FyZC5maW5kKFwiLmRldGFpbF9fY29sdW1uM1wiKS50ZXh0KCRkZXRhaWxDMyk7XG4gICAgJGNhcmQuZmluZChcIi5kZXRhaWxfX2NvbHVtbjRcIikudGV4dCgkZGV0YWlsQzQpO1xuICAgICRjYXJkLmZpbmQoXCIuZGV0YWlsX19jb2x1bW41XCIpLnRleHQoJGRldGFpbEM1KTtcbiAgICAkY2FyZC5maW5kKFwiLmRldGFpbF9fY29sdW1uNlwiKS50ZXh0KCRkZXRhaWxDNik7XG4gICAgXG4gICAgJG92ZXJsYXkuZmFkZUluKCk7XG4gIH0pO1xuXG4gIC8vY2xvc2UgbW9kYWwgd2hlbiBjbG9zZSBidXR0b24gaXMgY2xpY2tlZFxuXG4gICR3cmFwcGVyLm9uKFwiY2xpY2tcIiwgXCIuYnV0dG9uX19jbG9zZVwiLCBmdW5jdGlvbigpe1xuICAgICRvdmVybGF5LmZhZGVPdXQoKTtcbiAgICAkY2FyZC5maW5kKFwiLmRldGFpbF9fY29sdW1uMVwiKS5hdHRyKFwiXCIsJGRldGFpbEMxKTtcbiAgICAkY2FyZC5maW5kKFwiLmRldGFpbF9fY29sdW1uMlwiKS50ZXh0KFwiXCIpO1xuICAgICRjYXJkLmZpbmQoXCIuZGV0YWlsX19jb2x1bW4zXCIpLnRleHQoXCJcIik7XG4gICAgJGNhcmQuZmluZChcIi5kZXRhaWxfX2NvbHVtbjRcIikudGV4dChcIlwiKTtcbiAgICAkY2FyZC5maW5kKFwiLmRldGFpbF9fY29sdW1uNVwiKS50ZXh0KFwiXCIpO1xuICAgICRjYXJkLmZpbmQoXCIuZGV0YWlsX19jb2x1bW42XCIpLnRleHQoXCJcIik7XG4gIH0pO1xuXG59KTsiLCIkKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgIGpzS2V5Ym9hcmQuaW5pdChcInZpcnR1YWxLZXlib2FyZFwiKTtcblxuICAgICAgICAgLy9maXJzdCBpbnB1dCBmb2N1c1xuICAgICAgICAgdmFyICRmaXJzdElucHV0ID0gJCgnOmlucHV0JykuZmlyc3QoKS5mb2N1cygpO1xuICAgICAgICAganNLZXlib2FyZC5jdXJyZW50RWxlbWVudCA9ICRmaXJzdElucHV0O1xuICAgICAgICAganNLZXlib2FyZC5jdXJyZW50RWxlbWVudEN1cnNvclBvc2l0aW9uID0gMDtcbiAgICAgfSk7XG5cbnZhciBqc0tleWJvYXJkID0ge1xuICAgIHNldHRpbmdzOiB7XG4gICAgICAgIGJ1dHRvbkNsYXNzOiBcImJ1dHRvblwiLCAvLyBkZWZhdWx0IGJ1dHRvbiBjbGFzc1xuICAgICAgICBvbmNsaWNrOiBcImpzS2V5Ym9hcmQud3JpdGUoKTtcIiwgLy8gZGVmYXVsdCBvbmNsaWNrIGV2ZW50IGZvciBidXR0b25cbiAgICAgICAga2V5Q2xhc3M6IFwia2V5XCIsIC8vIGRlZmF1bHQga2V5IGNsYXNzIHVzZWQgdG8gZGVmaW5lIHN0eWxlIG9mIHRleHQgb2YgdGhlIGJ1dHRvblxuICAgICAgICB0ZXh0OiB7XG4gICAgICAgICAgICBjbG9zZTogXCJjbG9zZVwiXG4gICAgICAgIH1cbiAgICB9LFxuICAgIFwia2V5Ym9hcmRcIjogW10sIC8vIGRpZmZlcmVudCBrZXlib2FyZHMgY2FuIGJlIHNldCB0byB0aGlzIHZhcmlhYmxlIGluIG9yZGVyIHRvIHN3aXRjaCBiZXR3ZWVuIGtleWJvYXJkcyBlYXNpbHkuXG4gICAgaW5pdDogZnVuY3Rpb24oZWxlbSwga2V5Ym9hcmQpIHtcbiAgICAgICAganNLZXlib2FyZC5rZXlib2FyZFtcImRlZmF1bHRcIl0gPSBqc0tleWJvYXJkLmRlZmF1bHRLZXlib2FyZDtcbiAgICAgICAganNLZXlib2FyZC5rZXlib2FyZExheW91dCA9IGVsZW07XG5cbiAgICAgICAgaWYgKGtleWJvYXJkICE9IG51bGwgJiYga2V5Ym9hcmQgIT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAganNLZXlib2FyZC5nZW5lcmF0ZUtleWJvYXJkKGtleWJvYXJkKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAganNLZXlib2FyZC5nZW5lcmF0ZUtleWJvYXJkKFwiZGVmYXVsdFwiKTtcblxuICAgICAgICBqc0tleWJvYXJkLmFkZEtleURvd25FdmVudCgpO1xuXG4gICAgICAgICBqc0tleWJvYXJkLnNob3coKTtcbiAgICAgICAgICQoJzppbnB1dCcpLm5vdCgnW3R5cGU9XCJyZXNldFwiXScpLm5vdCgnW3R5cGU9XCJzdWJtaXRcIl0nKS5vbignZm9jdXMsIGNsaWNrJywgZnVuY3Rpb24oZSlcbiAgICAgICAgIHtcbiAgICAgICAgICAgIGpzS2V5Ym9hcmQuY3VycmVudEVsZW1lbnQgPSAkKHRoaXMpO1xuICAgICAgICAgICAganNLZXlib2FyZC5jdXJyZW50RWxlbWVudEN1cnNvclBvc2l0aW9uID0gJCh0aGlzKS5nZXRDdXJzb3JQb3NpdGlvbigpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ2tleWJvYXJkIGlzIG5vdyBmb2N1c2VkIG9uICcranNLZXlib2FyZC5jdXJyZW50RWxlbWVudC5hdHRyKCduYW1lJykrJyBhdCBwb3MoJytqc0tleWJvYXJkLmN1cnJlbnRFbGVtZW50Q3Vyc29yUG9zaXRpb24rJyknKTtcbiAgICAgICAgIH0pO1xuICAgIH0sXG4gICAgZm9jdXM6IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAganNLZXlib2FyZC5jdXJyZW50RWxlbWVudCA9ICQodCk7XG4gICAgICAgIGpzS2V5Ym9hcmQuc2hvdygpO1xuICAgIH0sXG4gICAga2V5Ym9hcmRMYXlvdXQ6IFwiXCIsIC8vIGl0IHNob3dzIHRoZSBodG1sIGVsZW1lbnQgd2hlcmUga2V5Ym9hcmQgaXMgZ2VuZXJhdGVkXG4gICAgY3VycmVudEtleWJvYXJkOiBcImRlZmF1bHRcIiwgLy8gaXQgc2hvd3MgdGhlIHdoaWNoIGtleWJvYXJkIGlzIHVzZWQuIElmIGl0J3Mgbm90IHNldCBkZWZhdWx0IGtleWJvYXJkIGlzIHVzZWQuXG4gICAgY3VycmVudEVsZW1lbnQ6IG51bGwsXG4gICAgZ2VuZXJhdGVLZXlib2FyZDogZnVuY3Rpb24oa2V5Ym9hcmQpIHtcbiAgICAgICAgdmFyIGJDbGFzcyA9IFwiXCI7XG4gICAgICAgIHZhciBrQ2xhc3MgPSBcIlwiO1xuICAgICAgICB2YXIgb25jbGljayA9IFwiXCI7XG4gICAgICAgIHZhciB0ZXh0ID0gXCJcIjtcblxuICAgICAgICB2YXIgcyA9IFwiXCI7XG4gICAgICAgIHMgKz0gXCI8ZGl2IGlkPVxcXCJrZXlib2FyZFxcXCI+XCI7XG4gICAgICAgIHMgKz0gXCI8ZGl2IGlkPVxcXCJrZXlib2FyZEhlYWRlclxcXCI+XCI7XG4gICAgICAgIC8vIHMgKz0gXCI8ZGl2IG9uY2xpY2s9XFxcImpzS2V5Ym9hcmQuaGlkZSgpO1xcXCI+PHNwYW4+XCIgKyBqc0tleWJvYXJkLnNldHRpbmdzLnRleHQuY2xvc2UgKyBcIjwvc3Bhbj48c3BhbiBjbGFzcz1cXFwiY2xvc2V4XFxcIj4gWDwvc3Bhbj48L2Rpdj5cIlxuICAgICAgICBzICs9IFwiPC9kaXY+XCI7XG5cbiAgICAgICAgLypzbWFsbCBsZXR0ZXIgKi9cbiAgICAgICAgcyArPSBcIjxkaXYgaWQ9XFxcImtleWJvYXJkU21hbGxMZXR0ZXJcXFwiPlwiO1xuICAgICAgICAkLmVhY2goanNLZXlib2FyZC5rZXlib2FyZFtrZXlib2FyZF0uc21hbGxMZXR0ZXIsIGZ1bmN0aW9uKGksIGtleSkge1xuICAgICAgICAgICAgZ2VuZXJhdGUoa2V5KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHMgKz0gXCI8L2Rpdj5cIjtcblxuICAgICAgICAvKmNhcGl0YWwgbGV0dGVyKi9cbiAgICAgICAgcyArPSBcIjxkaXYgaWQ9XFxcImtleWJvYXJkQ2FwaXRhbExldHRlclxcXCI+XCI7XG4gICAgICAgICQuZWFjaChqc0tleWJvYXJkLmtleWJvYXJkW2tleWJvYXJkXS5jYXBpdGFsTGV0dGVyLCBmdW5jdGlvbihpLCBrZXkpIHtcbiAgICAgICAgICAgIGdlbmVyYXRlKGtleSk7XG4gICAgICAgIH0pO1xuICAgICAgICBzICs9IFwiPC9kaXY+XCI7XG5cbiAgICAgICAgLypudW1iZXIqL1xuICAgICAgICBzICs9IFwiPGRpdiBpZD1cXFwia2V5Ym9hcmROdW1iZXJcXFwiPlwiO1xuICAgICAgICAkLmVhY2goanNLZXlib2FyZC5rZXlib2FyZFtrZXlib2FyZF0ubnVtYmVyLCBmdW5jdGlvbihpLCBrZXkpIHtcbiAgICAgICAgICAgIGdlbmVyYXRlKGtleSk7XG4gICAgICAgIH0pO1xuICAgICAgICBzICs9IFwiPC9kaXY+XCI7XG5cbiAgICAgICAgLypzeW1ib2xzKi9cbiAgICAgICAgcyArPSBcIjxkaXYgaWQ9XFxcImtleWJvYXJkU3ltYm9sc1xcXCI+XCI7XG4gICAgICAgICQuZWFjaChqc0tleWJvYXJkLmtleWJvYXJkW2tleWJvYXJkXS5zeW1ib2xzLCBmdW5jdGlvbihpLCBrZXkpIHtcbiAgICAgICAgICAgIGdlbmVyYXRlKGtleSk7XG4gICAgICAgIH0pO1xuICAgICAgICBzICs9IFwiPC9kaXY+XCI7XG5cbiAgICAgICAgZnVuY3Rpb24gZ2VuZXJhdGUoa2V5KSB7XG4gICAgICAgICAgICBiQ2xhc3MgPSBrZXkuYnV0dG9uQ2xhc3MgPT0gdW5kZWZpbmVkID8ganNLZXlib2FyZC5zZXR0aW5ncy5idXR0b25DbGFzcyA6IGtleS5idXR0b25DbGFzcztcbiAgICAgICAgICAgIGtDbGFzcyA9IGtleS5rZXlDbGFzcyA9PSB1bmRlZmluZWQgPyBqc0tleWJvYXJkLnNldHRpbmdzLmtleUNsYXNzIDoga2V5LmtleUNsYXNzO1xuICAgICAgICAgICAgb25jbGljayA9IGtleS5vbmNsaWNrID09IHVuZGVmaW5lZCA/IGpzS2V5Ym9hcmQuc2V0dGluZ3Mub25jbGljay5yZXBsYWNlKFwiKClcIiwgXCIoXCIgKyBrZXkudmFsdWUgKyBcIilcIikgOiBrZXkub25jbGljaztcblxuICAgICAgICAgICAgdGV4dCA9IChrZXkuaXNDaGFyICE9IHVuZGVmaW5lZCB8fCBrZXkuaXNDaGFyID09IGZhbHNlKSA/IGtleS52YWx1ZSA6IFN0cmluZy5mcm9tQ2hhckNvZGUoa2V5LnZhbHVlKTtcblxuICAgICAgICAgICAgcyArPSBcIjxkaXYgY2xhc3M9XFxcIlwiICsgYkNsYXNzICsgXCJcXFwiIG9uY2xpY2s9XFxcIlwiICsgb25jbGljayArIFwiXFxcIj48ZGl2IGNsYXNzPVxcXCJcIiArIGtDbGFzcyArIFwiXFxcIj5cIiArIHRleHQgKyBcIjwvZGl2PjwvZGl2PlwiO1xuXG4gICAgICAgICAgICBiQ2xhc3MgPSBcIlwiOyBrQ2xhc3MgPSBcIlwiOyBvbmNsaWNrID0gXCJcIjsgdGV4dCA9IFwiXCI7XG4gICAgICAgIH1cblxuICAgICAgICAkKFwiI1wiICsganNLZXlib2FyZC5rZXlib2FyZExheW91dCkuaHRtbChzKTtcbiAgICB9LFxuICAgIGFkZEtleURvd25FdmVudDogZnVuY3Rpb24oKSB7XG4gICAgICAgICQoXCIja2V5Ym9hcmRDYXBpdGFsTGV0dGVyID4gZGl2LmJ1dHRvbiwgI2tleWJvYXJkU21hbGxMZXR0ZXIgPiBkaXYuYnV0dG9uLCAja2V5Ym9hcmROdW1iZXIgPiBkaXYuYnV0dG9uLCAja2V5Ym9hcmRTeW1ib2xzID4gZGl2LmJ1dHRvblwiKS5cbiAgICAgICAgICAgIGJpbmQoJ21vdXNlZG93bicsIChmdW5jdGlvbigpIHsgJCh0aGlzKS5hZGRDbGFzcyhcImJ1dHRvbkRvd25cIik7IH0pKS5cbiAgICAgICAgICAgIGJpbmQoJ21vdXNldXAnLCAoZnVuY3Rpb24oKSB7ICQodGhpcykucmVtb3ZlQ2xhc3MoXCJidXR0b25Eb3duXCIpOyB9KSkuXG4gICAgICAgICAgICBiaW5kKCdtb3VzZW91dCcsIChmdW5jdGlvbigpIHsgJCh0aGlzKS5yZW1vdmVDbGFzcyhcImJ1dHRvbkRvd25cIik7IH0pKTtcblxuICAgICAgICAgICAgLy9rZXkgZm9jdXMgZG93biBvbiBhY3R1YWwga2V5Ym9hcmQga2V5IHByZXNzZXNcbiAgICAgICAgICAgIC8vdG9kbzouLi4uXG5cbiAgICB9LFxuICAgIGNoYW5nZVRvU21hbGxMZXR0ZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICAkKFwiI2tleWJvYXJkQ2FwaXRhbExldHRlciwja2V5Ym9hcmROdW1iZXIsI2tleWJvYXJkU3ltYm9sc1wiKS5jc3MoXCJkaXNwbGF5XCIsIFwibm9uZVwiKTtcbiAgICAgICAgJChcIiNrZXlib2FyZFNtYWxsTGV0dGVyXCIpLmNzcyhcImRpc3BsYXlcIiwgXCJibG9ja1wiKTtcbiAgICB9LFxuICAgIGNoYW5nZVRvQ2FwaXRhbExldHRlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgICQoXCIja2V5Ym9hcmRDYXBpdGFsTGV0dGVyXCIpLmNzcyhcImRpc3BsYXlcIiwgXCJibG9ja1wiKTtcbiAgICAgICAgJChcIiNrZXlib2FyZFNtYWxsTGV0dGVyLCNrZXlib2FyZE51bWJlciwja2V5Ym9hcmRTeW1ib2xzXCIpLmNzcyhcImRpc3BsYXlcIiwgXCJub25lXCIpO1xuICAgIH0sXG4gICAgY2hhbmdlVG9OdW1iZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICAkKFwiI2tleWJvYXJkTnVtYmVyXCIpLmNzcyhcImRpc3BsYXlcIiwgXCJibG9ja1wiKTtcbiAgICAgICAgJChcIiNrZXlib2FyZFN5bWJvbHMsI2tleWJvYXJkQ2FwaXRhbExldHRlciwja2V5Ym9hcmRTbWFsbExldHRlclwiKS5jc3MoXCJkaXNwbGF5XCIsIFwibm9uZVwiKTtcbiAgICB9LFxuICAgIGNoYW5nZVRvU3ltYm9sczogZnVuY3Rpb24oKSB7XG4gICAgICAgICQoXCIja2V5Ym9hcmRDYXBpdGFsTGV0dGVyLCNrZXlib2FyZE51bWJlciwja2V5Ym9hcmRTbWFsbExldHRlclwiKS5jc3MoXCJkaXNwbGF5XCIsIFwibm9uZVwiKTtcbiAgICAgICAgJChcIiNrZXlib2FyZFN5bWJvbHNcIikuY3NzKFwiZGlzcGxheVwiLCBcImJsb2NrXCIpO1xuICAgIH0sXG4gICAgdXBkYXRlQ3Vyc29yOiBmdW5jdGlvbigpXG4gICAge1xuICAgICAgICAvL2lucHV0IGN1cnNvciBmb2N1cyBhbmQgcG9zaXRpb24gZHVyaW5nIHR5cGluZ1xuICAgICAgICBqc0tleWJvYXJkLmN1cnJlbnRFbGVtZW50LnNldEN1cnNvclBvc2l0aW9uKGpzS2V5Ym9hcmQuY3VycmVudEVsZW1lbnRDdXJzb3JQb3NpdGlvbik7XG4gICAgfSxcbiAgICB3cml0ZTogZnVuY3Rpb24obSkge1xuICAgICAgICB2YXIgYSA9IGpzS2V5Ym9hcmQuY3VycmVudEVsZW1lbnQudmFsKCksXG4gICAgICAgICAgICBiID0gU3RyaW5nLmZyb21DaGFyQ29kZShtKSxcbiAgICAgICAgICAgIHBvcyA9IGpzS2V5Ym9hcmQuY3VycmVudEVsZW1lbnRDdXJzb3JQb3NpdGlvbixcbiAgICAgICAgICAgIG91dHB1dCA9IFthLnNsaWNlKDAsIHBvcyksIGIsIGEuc2xpY2UocG9zKV0uam9pbignJyk7XG4gICAgICAgIGpzS2V5Ym9hcmQuY3VycmVudEVsZW1lbnQudmFsKG91dHB1dCk7XG4gICAgICAgIGpzS2V5Ym9hcmQuY3VycmVudEVsZW1lbnRDdXJzb3JQb3NpdGlvbisrOyAvLysxIGN1cnNvclxuICAgICAgICBqc0tleWJvYXJkLnVwZGF0ZUN1cnNvcigpO1xuICAgIH0sXG4gICAgZGVsOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGEgPSBqc0tleWJvYXJkLmN1cnJlbnRFbGVtZW50LnZhbCgpLFxuICAgICAgICAgICAgcG9zID0ganNLZXlib2FyZC5jdXJyZW50RWxlbWVudEN1cnNvclBvc2l0aW9uLFxuICAgICAgICAgICAgb3V0cHV0ID0gW2Euc2xpY2UoMCwgcG9zLTEpLCBhLnNsaWNlKHBvcyldLmpvaW4oJycpO1xuICAgICAgICBqc0tleWJvYXJkLmN1cnJlbnRFbGVtZW50LnZhbChvdXRwdXQpO1xuICAgICAgICBqc0tleWJvYXJkLmN1cnJlbnRFbGVtZW50Q3Vyc29yUG9zaXRpb24tLTsgLy8tMSBjdXJzb3JcbiAgICAgICAganNLZXlib2FyZC51cGRhdGVDdXJzb3IoKTtcbiAgICB9LFxuICAgIGVudGVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHQgPSBqc0tleWJvYXJkLmN1cnJlbnRFbGVtZW50LnZhbCgpO1xuICAgICAgICBqc0tleWJvYXJkLmN1cnJlbnRFbGVtZW50LnZhbCh0ICsgXCJcXG5cIik7XG4gICAgfSxcbiAgICBzcGFjZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBhID0ganNLZXlib2FyZC5jdXJyZW50RWxlbWVudC52YWwoKSxcbiAgICAgICAgICAgIGIgPSBcIiBcIixcbiAgICAgICAgICAgIHBvcyA9IGpzS2V5Ym9hcmQuY3VycmVudEVsZW1lbnRDdXJzb3JQb3NpdGlvbixcbiAgICAgICAgICAgIG91dHB1dCA9IFthLnNsaWNlKDAsIHBvcyksIGIsIGEuc2xpY2UocG9zKV0uam9pbignJyk7XG4gICAgICAgIGpzS2V5Ym9hcmQuY3VycmVudEVsZW1lbnQudmFsKG91dHB1dCk7XG4gICAgICAgIGpzS2V5Ym9hcmQuY3VycmVudEVsZW1lbnRDdXJzb3JQb3NpdGlvbisrOyAvLysxIGN1cnNvclxuICAgICAgICBqc0tleWJvYXJkLnVwZGF0ZUN1cnNvcigpO1xuICAgIH0sXG4gICAgd3JpdGVTcGVjaWFsOiBmdW5jdGlvbihtKSB7XG4gICAgICAgIHZhciBhID0ganNLZXlib2FyZC5jdXJyZW50RWxlbWVudC52YWwoKSxcbiAgICAgICAgICAgIGIgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKG0pLFxuICAgICAgICAgICAgcG9zID0ganNLZXlib2FyZC5jdXJyZW50RWxlbWVudEN1cnNvclBvc2l0aW9uLFxuICAgICAgICAgICAgb3V0cHV0ID0gW2Euc2xpY2UoMCwgcG9zKSwgYiwgYS5zbGljZShwb3MpXS5qb2luKCcnKTtcbiAgICAgICAganNLZXlib2FyZC5jdXJyZW50RWxlbWVudC52YWwob3V0cHV0KTtcbiAgICAgICAganNLZXlib2FyZC5jdXJyZW50RWxlbWVudEN1cnNvclBvc2l0aW9uKys7IC8vKzEgY3Vyc29yXG4gICAgICAgIGpzS2V5Ym9hcmQudXBkYXRlQ3Vyc29yKCk7XG4gICAgfSxcbiAgICBzaG93OiBmdW5jdGlvbigpIHtcbiAgICAgICAgJChcIiNrZXlib2FyZFwiKS5hbmltYXRlKHsgXCJib3R0b21cIjogXCIwXCIgfSwgXCJzbG93XCIsIGZ1bmN0aW9uKCkgeyB9KTtcbiAgICB9LFxuICAgIGhpZGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAkKFwiI2tleWJvYXJkXCIpLmFuaW1hdGUoeyBcImJvdHRvbVwiOiBcIi0zNTBweFwiIH0sIFwic2xvd1wiLCBmdW5jdGlvbigpIHsgfSk7XG4gICAgfSxcbiAgICBkZWZhdWx0S2V5Ym9hcmQ6IHtcbiAgICAgICAgY2FwaXRhbExldHRlcjpcbiAgICAgICAgICAgIFtcbiAgICAgICAgLy8gMXN0IHJvd1xuICAgICAgICAgICAgICAgeyB2YWx1ZTogODEgfSx7IHZhbHVlOiA4NyB9LHsgdmFsdWU6IDY5IH0seyB2YWx1ZTogODIgfSx7IHZhbHVlOiA4NCB9LHsgdmFsdWU6IDg5IH0sXG4gICAgICAgICAgICAgICB7IHZhbHVlOiA4NSB9LHsgdmFsdWU6IDczIH0seyB2YWx1ZTogNzkgfSx7IHZhbHVlOiA4MCB9LFxuICAgICAgICAgICAgICAgeyB2YWx1ZTogXCJEZWxldGVcIiwgaXNDaGFyOiBcImZhbHNlXCIsIG9uY2xpY2s6IFwianNLZXlib2FyZC5kZWwoKVwiLCBidXR0b25DbGFzczogXCJidXR0b24gYnV0dG9uX2RlbFwiLCBrZXlDbGFzczogXCJrZXkga2V5X2RlbFwiIH0sXG4gICAgICAgIC8vIDJuZCByb3dcbiAgICAgICAgICAgICAgIHsgdmFsdWU6IDY1LCBidXR0b25DbGFzczogXCJidXR0b24gYnV0dG9uX2FcIiB9LHsgdmFsdWU6IDgzIH0seyB2YWx1ZTogNjggfSx7IHZhbHVlOiA3MCB9LFxuICAgICAgICAgICAgICAgeyB2YWx1ZTogNzEgfSx7IHZhbHVlOiA3MiB9LHsgdmFsdWU6IDc0IH0seyB2YWx1ZTogNzUgfSx7IHZhbHVlOiA3NiB9LFxuICAgICAgICAgICAgICAgeyB2YWx1ZTogXCJFbnRlclwiLCBpc0NoYXI6IFwiZmFsc2VcIiwgYnV0dG9uQ2xhc3M6IFwiYnV0dG9uIGJ1dHRvbl9lbnRlclwiLCBvbmNsaWNrOiBcImpzS2V5Ym9hcmQuZW50ZXIoKTtcIiwga2V5Q2xhc3M6IFwia2V5IGtleV9lbnRlclwiIH0sXG4gICAgICAgIC8vIDNyZCByb3dcbiAgICAgICAgICAgICAgIHsgdmFsdWU6IFwiYWJjXCIsIGlzQ2hhcjogXCJmYWxzZVwiLCBidXR0b25DbGFzczogXCJidXR0b24gYnV0dG9uX3NtYWxsbGV0dGVyXCIsIG9uY2xpY2s6IFwianNLZXlib2FyZC5jaGFuZ2VUb1NtYWxsTGV0dGVyKCk7XCIsIGtleUNsYXNzOiBcImtleSBrZXlfc21hbGxsZXR0ZXJcIiB9LFxuICAgICAgICAgICAgICAgeyB2YWx1ZTogOTAgfSx7IHZhbHVlOiA4OCB9LHsgdmFsdWU6IDY3IH0seyB2YWx1ZTogODYgfSx7IHZhbHVlOiA2NiB9LHsgdmFsdWU6IDc4IH0sXG4gICAgICAgICAgICAgICB7IHZhbHVlOiA3NyB9LHsgdmFsdWU6IDQ0IH0seyB2YWx1ZTogNDYgfSx7IHZhbHVlOiA2NCB9LFxuICAgICAgICAvLyA0dGggcm93XG4gICAgICAgICAgICAgICB7IHZhbHVlOiBcIjEyM1wiLCBpc0NoYXI6IFwiZmFsc2VcIiwgYnV0dG9uQ2xhc3M6IFwiYnV0dG9uIGJ1dHRvbl9udW1iZXJsZWZ0XCIsIG9uY2xpY2s6IFwianNLZXlib2FyZC5jaGFuZ2VUb051bWJlcigpO1wiLCBrZXlDbGFzczogXCJrZXkga2V5X251bWJlclwiIH0sXG4gICAgICAgICAgICAgICB7IHZhbHVlOiBcIlNwYWNlXCIsIGlzQ2hhcjogXCJmYWxzZVwiLCBidXR0b25DbGFzczogXCJidXR0b24gYnV0dG9uX3NwYWNlXCIsIG9uY2xpY2s6IFwianNLZXlib2FyZC5zcGFjZSgpO1wiLCBrZXlDbGFzczogXCJrZXkga2V5X3NwYWNlXCIgfSxcbiAgICAgICAgICAgICAgIHsgdmFsdWU6IFwiIyQrXCIsIGlzQ2hhcjogXCJmYWxzZVwiLCBidXR0b25DbGFzczogXCJidXR0b24gYnV0dG9uX3N5bWJvbHNyaWdodFwiLCBvbmNsaWNrOiBcImpzS2V5Ym9hcmQuY2hhbmdlVG9TeW1ib2xzKCk7XCIsIGtleUNsYXNzOiBcImtleSBrZXlfc3ltYm9sc1wiIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgIHNtYWxsTGV0dGVyOiBbXG4gICAgICAgIC8vIDFzdCByb3dcbiAgICAgICAgICAgICAgICB7IHZhbHVlOiAxMTMgfSx7IHZhbHVlOiAxMTkgfSx7IHZhbHVlOiAxMDEgfSx7IHZhbHVlOiAxMTQgfSx7IHZhbHVlOiAxMTYgfSxcbiAgICAgICAgICAgICAgICB7IHZhbHVlOiAxMjEgfSx7IHZhbHVlOiAxMTcgfSx7IHZhbHVlOiAxMDUgfSx7IHZhbHVlOiAxMTEgfSx7IHZhbHVlOiAxMTIgfSxcbiAgICAgICAgICAgICAgICB7IHZhbHVlOiBcIkRlbGV0ZVwiLCBpc0NoYXI6IFwiZmFsc2VcIiwgb25jbGljazogXCJqc0tleWJvYXJkLmRlbCgpXCIsIGJ1dHRvbkNsYXNzOiBcImJ1dHRvbiBidXR0b25fZGVsXCIsIGtleUNsYXNzOiBcImtleSBrZXlfZGVsXCIgfSxcbiAgICAgICAgLy8gMm5kIHJvd1xuICAgICAgICAgICAgICAgIHsgdmFsdWU6IDk3LCBidXR0b25DbGFzczogXCJidXR0b24gYnV0dG9uX2FcIiB9LHsgdmFsdWU6IDExNSB9LHsgdmFsdWU6IDEwMCB9LHsgdmFsdWU6IDEwMiB9LFxuICAgICAgICAgICAgICAgIHsgdmFsdWU6IDEwMyB9LHsgdmFsdWU6IDEwNCB9LHsgdmFsdWU6IDEwNiB9LHsgdmFsdWU6IDEwNyB9LHsgdmFsdWU6IDEwOCB9LFxuICAgICAgICAgICAgICAgIHsgdmFsdWU6IFwiRW50ZXJcIiwgaXNDaGFyOiBcImZhbHNlXCIsIGJ1dHRvbkNsYXNzOiBcImJ1dHRvbiBidXR0b25fZW50ZXJcIiwgb25jbGljazogXCJqc0tleWJvYXJkLmVudGVyKCk7XCIsIGtleUNsYXNzOiBcImtleSBrZXlfZW50ZXJcIiB9LFxuICAgICAgICAvLyAzcmQgcm93XG4gICAgICAgICAgICAgICAgeyB2YWx1ZTogXCJBQkNcIiwgaXNDaGFyOiBcImZhbHNlXCIsIGJ1dHRvbkNsYXNzOiBcImJ1dHRvbiBidXR0b25fY2FwaXRhbGxldHRlcmxlZnRcIiwgb25jbGljazogXCJqc0tleWJvYXJkLmNoYW5nZVRvQ2FwaXRhbExldHRlcigpO1wiLCBrZXlDbGFzczogXCJrZXkga2V5X2NhcGl0YWxsZXR0ZXJsZWZ0XCIgfSxcbiAgICAgICAgICAgICAgICB7IHZhbHVlOiAxMjIgfSx7IHZhbHVlOiAxMjAgfSx7IHZhbHVlOiA5OSB9LHsgdmFsdWU6IDExOCB9LHsgdmFsdWU6IDk4IH0sXG4gICAgICAgICAgICAgICAgeyB2YWx1ZTogMTEwIH0seyB2YWx1ZTogMTA5IH0seyB2YWx1ZTogNDQgfSx7IHZhbHVlOiA0NiB9LHsgdmFsdWU6IDY0IH0sXG4gICAgICAgIC8vIDR0aCByb3dcbiAgICAgICAgICAgICAgICB7IHZhbHVlOiBcIjEyM1wiLCBpc0NoYXI6IFwiZmFsc2VcIiwgYnV0dG9uQ2xhc3M6IFwiYnV0dG9uIGJ1dHRvbl9udW1iZXJsZWZ0XCIsIG9uY2xpY2s6IFwianNLZXlib2FyZC5jaGFuZ2VUb051bWJlcigpO1wiLCBrZXlDbGFzczogXCJrZXkga2V5X251bWJlclwiIH0sXG4gICAgICAgICAgICAgICAgLy8geyB2YWx1ZTogMzIsIGJ1dHRvbkNsYXNzOiBcImJ1dHRvbiBidXR0b25fc3BhY2VcIiB9LFxuICAgICAgICAgICAgICAgIHsgdmFsdWU6IFwiU3BhY2VcIiwgaXNDaGFyOiBcImZhbHNlXCIsIGJ1dHRvbkNsYXNzOiBcImJ1dHRvbiBidXR0b25fc3BhY2VcIiwgb25jbGljazogXCJqc0tleWJvYXJkLnNwYWNlKCk7XCIsIGtleUNsYXNzOiBcImtleSBrZXlfc3BhY2VcIiB9LFxuICAgICAgICAgICAgICAgIHsgdmFsdWU6IFwiIyUrXCIsIGlzQ2hhcjogXCJmYWxzZVwiLCBidXR0b25DbGFzczogXCJidXR0b24gYnV0dG9uX3N5bWJvbHNyaWdodFwiLCBvbmNsaWNrOiBcImpzS2V5Ym9hcmQuY2hhbmdlVG9TeW1ib2xzKCk7XCIsIGtleUNsYXNzOiBcImtleSBrZXlfc3ltYm9sc1wiIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgIG51bWJlcjogW1xuICAgICAgICAvLyAxc3Qgcm93XG4gICAgICAgICAgICAgICAgeyB2YWx1ZTogNDkgfSx7IHZhbHVlOiA1MCB9LHsgdmFsdWU6IDUxIH0seyB2YWx1ZTogNTIgfSx7IHZhbHVlOiA1MyB9LHsgdmFsdWU6IDU0IH0sXG4gICAgICAgICAgICAgICAgeyB2YWx1ZTogNTUgfSx7IHZhbHVlOiA1NiB9LHsgdmFsdWU6IDU3IH0seyB2YWx1ZTogNDggfSxcbiAgICAgICAgICAgICAgICB7IHZhbHVlOiBcIkRlbGV0ZVwiLCBpc0NoYXI6IFwiZmFsc2VcIiwgb25jbGljazogXCJqc0tleWJvYXJkLmRlbCgpXCIsIGJ1dHRvbkNsYXNzOiBcImJ1dHRvbiBidXR0b25fZGVsXCIsIGtleUNsYXNzOiBcImtleSBrZXlfZGVsXCIgfSxcbiAgICAgICAgLy8gMm5kIHJvd1xuICAgICAgICAgICAgICAgIHsgdmFsdWU6IDQ1LCBidXR0b25DbGFzczogXCJidXR0b24gYnV0dG9uX2Rhc2hcIiB9LHsgdmFsdWU6IDQ3IH0seyB2YWx1ZTogNTggfSx7IHZhbHVlOiA1OSB9LFxuICAgICAgICAgICAgICAgIHsgdmFsdWU6IDQwIH0seyB2YWx1ZTogNDEgfSx7IHZhbHVlOiAzNiB9LHsgdmFsdWU6IDM4IH0seyB2YWx1ZTogNjQgfSxcbiAgICAgICAgICAgICAgICB7IHZhbHVlOiBcIkVudGVyXCIsIGlzQ2hhcjogXCJmYWxzZVwiLCBidXR0b25DbGFzczogXCJidXR0b24gYnV0dG9uX2VudGVyXCIsIG9uY2xpY2s6IFwianNLZXlib2FyZC5lbnRlcigpO1wiLCBrZXlDbGFzczogXCJrZXkga2V5X2VudGVyXCIgfSxcbiAgICAgICAgLy8zcmQgcm93XG4gICAgICAgICAgICAgICAgLy8geyB2YWx1ZTogXCJBQkNcIiwgaXNDaGFyOiBcImZhbHNlXCIsIGJ1dHRvbkNsYXNzOiBcImJ1dHRvbiBidXR0b25fY2FwaXRhbGxldHRlcmxlZnRcIiwgb25jbGljazogXCJqc0tleWJvYXJkLmNoYW5nZVRvQ2FwaXRhbExldHRlcigpXCIsIGtleUNsYXNzOiBcImtleSBrZXlfY2FwaXRhbGxldHRlcmxlZnRcIiB9LFxuICAgICAgICAgICAgICAgIHsgdmFsdWU6IFwiXCIsIGlzQ2hhcjogXCJmYWxzZVwiLCBidXR0b25DbGFzczogXCJidXR0b24gYnV0dG9uX2NhcGl0YWxsZXR0ZXJsZWZ0XCIsIG9uY2xpY2s6IFwiXCIsIGtleUNsYXNzOiBcImtleVwiIH0sXG4gICAgICAgICAgICAgICAgeyB2YWx1ZTogNjMgfSx7IHZhbHVlOiAzMyB9LHsgdmFsdWU6IDM0IH0seyB2YWx1ZTogMTI0IH0seyB2YWx1ZTogOTIgfSx7IHZhbHVlOiA0MiB9LHsgdmFsdWU6IDYxIH0seyB2YWx1ZTogNDMgfSxcbiAgICAgICAgICAgICAgICAvLyB7IHZhbHVlOiBcIkFCQ1wiLCBpc0NoYXI6IFwiZmFsc2VcIiwgYnV0dG9uQ2xhc3M6IFwiYnV0dG9uIGJ1dHRvbl9jYXBpdGFsbGV0dGVycmlnaHRcIiwgb25jbGljazogXCJqc0tleWJvYXJkLmNoYW5nZVRvQ2FwaXRhbExldHRlcigpO1wiLCBrZXlDbGFzczogXCJrZXkga2V5X2NhcGl0YWxsZXR0ZXJyaWdodFwiIH0sXG4gICAgICAgICAgICAgICAgeyB2YWx1ZTogXCJcIiwgaXNDaGFyOiBcImZhbHNlXCIsIGJ1dHRvbkNsYXNzOiBcImJ1dHRvblwiLCBvbmNsaWNrOiBcIlwiLCBrZXlDbGFzczogXCJrZXlcIiB9LFxuICAgICAgICAgICAgICAgIHsgdmFsdWU6IFwiXCIsIGlzQ2hhcjogXCJmYWxzZVwiLCBidXR0b25DbGFzczogXCJidXR0b25cIiwgb25jbGljazogXCJcIiwga2V5Q2xhc3M6IFwia2V5XCIgfSxcblxuICAgICAgICAvLyA0dGggcm93XG4gICAgICAgICAgICAgICAgeyB2YWx1ZTogXCJBQkNcIiwgaXNDaGFyOiBcImZhbHNlXCIsIGJ1dHRvbkNsYXNzOiBcImJ1dHRvbiBidXR0b25fbnVtYmVybGVmdFwiLCBvbmNsaWNrOiBcImpzS2V5Ym9hcmQuY2hhbmdlVG9DYXBpdGFsTGV0dGVyKCk7XCIsIGtleUNsYXNzOiBcImtleSBrZXlfY2FwaXRhbGxldHRlcmxlZnRcIiB9LFxuICAgICAgICAgICAgICAgIHsgdmFsdWU6IFwiU3BhY2VcIiwgaXNDaGFyOiBcImZhbHNlXCIsIGJ1dHRvbkNsYXNzOiBcImJ1dHRvbiBidXR0b25fc3BhY2VcIiwgb25jbGljazogXCJqc0tleWJvYXJkLnNwYWNlKCk7XCIsIGtleUNsYXNzOiBcImtleSBrZXlfc3BhY2VcIiB9LFxuICAgICAgICAgICAgICAgIHsgdmFsdWU6IFwiIyQrXCIsIGlzQ2hhcjogXCJmYWxzZVwiLCBidXR0b25DbGFzczogXCJidXR0b24gYnV0dG9uX3N5bWJvbHNyaWdodFwiLCBvbmNsaWNrOiBcImpzS2V5Ym9hcmQuY2hhbmdlVG9TeW1ib2xzKCk7XCIsIGtleUNsYXNzOiBcImtleSBrZXlfc3ltYm9sc1wiIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgIHN5bWJvbHM6IFtcbiAgICAgICAgLy8gMXN0IHJvd1xuICAgICAgICAgICAgeyB2YWx1ZTogOTEgfSx7IHZhbHVlOiA5MyB9LHsgdmFsdWU6IDEyMyB9LHsgdmFsdWU6IDEyNSB9LHsgdmFsdWU6IDM1IH0seyB2YWx1ZTogMzcgfSxcbiAgICAgICAgICAgIHsgdmFsdWU6IDk0IH0seyB2YWx1ZTogNDIgfSx7IHZhbHVlOiA0MyB9LHsgdmFsdWU6IDYxIH0sXG4gICAgICAgICAgICB7IHZhbHVlOiBcIkRlbGV0ZVwiLCBpc0NoYXI6IFwiZmFsc2VcIiwgb25jbGljazogXCJqc0tleWJvYXJkLmRlbCgpXCIsIGJ1dHRvbkNsYXNzOiBcImJ1dHRvbiBidXR0b25fZGVsXCIsIGtleUNsYXNzOiBcImtleSBrZXlfZGVsXCIgfSxcbiAgICAgICAgLy8gMm5kIHJvd1xuICAgICAgICAgICAgeyB2YWx1ZTogOTUsIGJ1dHRvbkNsYXNzOiBcImJ1dHRvbiBidXR0b25fdW5kZXJzY29yZVwiIH0seyB2YWx1ZTogOTIgfSx7IHZhbHVlOiAxMjQgfSx7IHZhbHVlOiAxMjYgfSxcbiAgICAgICAgICAgIHsgdmFsdWU6IDYwIH0seyB2YWx1ZTogNjIgfSxcbiAgICAgICAgICAgIHsgdmFsdWU6IFwiJmV1cm87XCIsIGlzQ2hhcjogXCJmYWxzZVwiLCBvbmNsaWNrOiBcImpzS2V5Ym9hcmQud3JpdGVTcGVjaWFsKCcmZXVybzsnKTtcIiB9LFxuICAgICAgICAgICAgeyB2YWx1ZTogMTYzIH0seyB2YWx1ZTogMTY1IH0sXG4gICAgICAgICAgICB7IHZhbHVlOiBcIkVudGVyXCIsIGlzQ2hhcjogXCJmYWxzZVwiLCBidXR0b25DbGFzczogXCJidXR0b24gYnV0dG9uX2VudGVyXCIsIG9uY2xpY2s6IFwianNLZXlib2FyZC5lbnRlcigpO1wiLCBrZXlDbGFzczogXCJrZXkga2V5X2VudGVyXCIgfSxcbiAgICAgICAgLy8gM3JkIHJvd1xuICAgICAgICAgICAgLy8geyB2YWx1ZTogXCJBQkNcIiwgaXNDaGFyOiBcImZhbHNlXCIsIGJ1dHRvbkNsYXNzOiBcImJ1dHRvbiBidXR0b25fY2FwaXRhbGxldHRlcmxlZnRcIiwgb25jbGljazogXCJqc0tleWJvYXJkLmNoYW5nZVRvQ2FwaXRhbExldHRlcigpO1wiLCBrZXlDbGFzczogXCJrZXkga2V5X2NhcGl0YWxsZXR0ZXJsZWZ0XCIgfSxcbiAgICAgICAgICAgIHsgdmFsdWU6IFwiXCIsIGlzQ2hhcjogXCJmYWxzZVwiLCBidXR0b25DbGFzczogXCJidXR0b24gYnV0dG9uX2NhcGl0YWxsZXR0ZXJsZWZ0XCIsIG9uY2xpY2s6IFwiXCIsIGtleUNsYXNzOiBcImtleVwiIH0sXG4gICAgICAgICAgICB7IHZhbHVlOiA0NiB9LHsgdmFsdWU6IDQ0IH0seyB2YWx1ZTogNjMgfSx7IHZhbHVlOiAzMyB9LHsgdmFsdWU6IDM5IH0seyB2YWx1ZTogMzQgfSx7IHZhbHVlOiA1OSB9LHsgdmFsdWU6IDkyIH0sXG4gICAgICAgICAgICAvLyB7IHZhbHVlOiBcIkFCQ1wiLCBpc0NoYXI6IFwiZmFsc2VcIiwgYnV0dG9uQ2xhc3M6IFwiYnV0dG9uIGJ1dHRvbl9jYXBpdGFsbGV0dGVycmlnaHRcIiwgb25jbGljazogXCJqc0tleWJvYXJkLmNoYW5nZVRvQ2FwaXRhbExldHRlcigpO1wiLCBrZXlDbGFzczogXCJrZXkga2V5X2NhcGl0YWxsZXR0ZXJyaWdodFwiIH0sXG4gICAgICAgICAgICB7IHZhbHVlOiBcIlwiLCBpc0NoYXI6IFwiZmFsc2VcIiwgYnV0dG9uQ2xhc3M6IFwiYnV0dG9uXCIsIG9uY2xpY2s6IFwiXCIsIGtleUNsYXNzOiBcImtleVwiIH0sXG4gICAgICAgICAgICB7IHZhbHVlOiBcIlwiLCBpc0NoYXI6IFwiZmFsc2VcIiwgYnV0dG9uQ2xhc3M6IFwiYnV0dG9uXCIsIG9uY2xpY2s6IFwiXCIsIGtleUNsYXNzOiBcImtleVwiIH0sXG4gICAgICAgIC8vIDR0aCByb3dcbiAgICAgICAgICAgIHsgdmFsdWU6IFwiMTIzXCIsIGlzQ2hhcjogXCJmYWxzZVwiLCBidXR0b25DbGFzczogXCJidXR0b24gYnV0dG9uX251bWJlcmxlZnRcIiwgb25jbGljazogXCJqc0tleWJvYXJkLmNoYW5nZVRvTnVtYmVyKCk7XCIsIGtleUNsYXNzOiBcImtleSBrZXlfbnVtYmVyXCIgfSxcbiAgICAgICAgICAgIHsgdmFsdWU6IFwiU3BhY2VcIiwgaXNDaGFyOiBcImZhbHNlXCIsIGJ1dHRvbkNsYXNzOiBcImJ1dHRvbiBidXR0b25fc3BhY2VcIiwgb25jbGljazogXCJqc0tleWJvYXJkLnNwYWNlKCk7XCIsIGtleUNsYXNzOiBcImtleSBrZXlfc3BhY2VcIiB9LFxuICAgICAgICAgICAgeyB2YWx1ZTogXCJBQkNcIiwgaXNDaGFyOiBcImZhbHNlXCIsIGJ1dHRvbkNsYXNzOiBcImJ1dHRvbiBidXR0b25fc3ltYm9sc3JpZ2h0XCIsIG9uY2xpY2s6IFwianNLZXlib2FyZC5jaGFuZ2VUb0NhcGl0YWxMZXR0ZXIoKTtcIiwga2V5Q2xhc3M6IFwia2V5IGtleV9jYXBpdGFsbGV0dGVybGVmdFwiIH0sXG4gICAgICAgICBdXG4gICAgfVxufVxuXG5cbi8vIEdFVCBDVVJTT1IgUE9TSVRJT05cbmpRdWVyeS5mbi5nZXRDdXJzb3JQb3NpdGlvbiA9IGZ1bmN0aW9uKCl7XG4gICAgaWYodGhpcy5sZW5naCA9PSAwKSByZXR1cm4gLTE7XG4gICAgcmV0dXJuICQodGhpcykuZ2V0U2VsZWN0aW9uU3RhcnQoKTtcbn1cblxualF1ZXJ5LmZuLmdldFNlbGVjdGlvblN0YXJ0ID0gZnVuY3Rpb24oKXtcbiAgICBpZih0aGlzLmxlbmdoID09IDApIHJldHVybiAtMTtcbiAgICBpbnB1dCA9IHRoaXNbMF07XG5cbiAgICB2YXIgcG9zID0gaW5wdXQudmFsdWUubGVuZ3RoO1xuXG4gICAgaWYgKGlucHV0LmNyZWF0ZVRleHRSYW5nZSkge1xuICAgICAgICB2YXIgciA9IGRvY3VtZW50LnNlbGVjdGlvbi5jcmVhdGVSYW5nZSgpLmR1cGxpY2F0ZSgpO1xuICAgICAgICByLm1vdmVFbmQoJ2NoYXJhY3RlcicsIGlucHV0LnZhbHVlLmxlbmd0aCk7XG4gICAgICAgIGlmIChyLnRleHQgPT0gJycpXG4gICAgICAgIHBvcyA9IGlucHV0LnZhbHVlLmxlbmd0aDtcbiAgICAgICAgcG9zID0gaW5wdXQudmFsdWUubGFzdEluZGV4T2Yoci50ZXh0KTtcbiAgICB9IGVsc2UgaWYodHlwZW9mKGlucHV0LnNlbGVjdGlvblN0YXJ0KSE9XCJ1bmRlZmluZWRcIilcbiAgICBwb3MgPSBpbnB1dC5zZWxlY3Rpb25TdGFydDtcblxuICAgIHJldHVybiBwb3M7XG59XG5cbi8vU0VUIENVUlNPUiBQT1NJVElPTlxualF1ZXJ5LmZuLnNldEN1cnNvclBvc2l0aW9uID0gZnVuY3Rpb24ocG9zKSB7XG4gIHRoaXMuZWFjaChmdW5jdGlvbihpbmRleCwgZWxlbSkge1xuICAgIGlmIChlbGVtLnNldFNlbGVjdGlvblJhbmdlKSB7XG4gICAgICBlbGVtLnNldFNlbGVjdGlvblJhbmdlKHBvcywgcG9zKTtcbiAgICB9IGVsc2UgaWYgKGVsZW0uY3JlYXRlVGV4dFJhbmdlKSB7XG4gICAgICB2YXIgcmFuZ2UgPSBlbGVtLmNyZWF0ZVRleHRSYW5nZSgpO1xuICAgICAgcmFuZ2UuY29sbGFwc2UodHJ1ZSk7XG4gICAgICByYW5nZS5tb3ZlRW5kKCdjaGFyYWN0ZXInLCBwb3MpO1xuICAgICAgcmFuZ2UubW92ZVN0YXJ0KCdjaGFyYWN0ZXInLCBwb3MpO1xuICAgICAgcmFuZ2Uuc2VsZWN0KCk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHRoaXM7XG59OyIsIlxuXG4vLyBXYWl0IGZvciAnV2ViQ29tcG9uZW50c1JlYWR5Jy5cbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdXZWJDb21wb25lbnRzUmVhZHknLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIHZhciBzaGVldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3Jpc2UtZ29vZ2xlLXNoZWV0Jyk7XG5cbiAgICAgICAgLy8gUmVzcG9uZCB0byBldmVudHMgaXQgZmlyZXMuXG4gICAgICAgIHNoZWV0LmFkZEV2ZW50TGlzdGVuZXIoJ3Jpc2UtZ29vZ2xlLXNoZWV0LXJlc3BvbnNlJywgZnVuY3Rpb24oZSkge1xuICAgICAgICAgIGlmIChlLmRldGFpbCAmJiBlLmRldGFpbC5yZXN1bHRzKSB7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhlLmRldGFpbC5yZXN1bHRzKTsgLy8gQXJyYXkgb2YgdmFsdWVzXG5cbiAgICAgICAgICAgIGRpc3BsYXlSZXN1bHRzKGUuZGV0YWlsLnJlc3VsdHMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgZnVuY3Rpb24gZGlzcGxheVJlc3VsdHMocmVzdWx0cykge1xuICAgICAgICAgIHZhciByZXN1bHRzID0gcmVzdWx0cztcbiAgICAgICAgICByZXN1bHRzLnNoaWZ0KCk7XG5cbiAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHRzKTtcblxuICAgICAgICAgIC8vIHJvd0VudHJ5LmlubmVySFRNTCA9IFwiPHAgY2xhc3MgPSAnY29sdW1uMSc+XCIgKyBcIjxpbWcgc3JjPSdcIisgYzEudGV4dENvbnRlbnQgK1wiJz5cIiArIFwiPC9wPlwiICsgXCI8cCBjbGFzcz0nbmFtZSBjb2x1bW4yJz5cIiArIGMyLnRleHRDb250ZW50ICsgXCI8L3A+XCIgKyBcIjxwIGNsYXNzID0gJ3RpdGxlIGNvbHVtbjMnPlwiICsgYzMudGV4dENvbnRlbnQgKyBcIjwvcD5cIiArIFwiPHAgY2xhc3M9J3Bob25lIGNvbHVtbjQnPlwiKyBjNC50ZXh0Q29udGVudCArXCI8L3A+XCIrIFwiPHAgY2xhc3M9J2VtYWlsIGNvbHVtbjUnPlwiKyBjNS50ZXh0Q29udGVudCArXCI8L3A+XCJcblxuLy8gICAgICAgICAkZGlyZWN0b3J5TGlzdC5hcHBlbmQocm93RW50cnkpO1xuXG4gICAgICAgICAvKiBEZXRhaWxzIENhcmQuICovXG4gICAgICAgIGZ1bmN0aW9uIHNldENhcmRBdHRyaWJ1dGVzKGVsLCBhdHRycykge1xuICAgICAgICAgIGZvcih2YXIga2V5IGluIGF0dHJzKSB7XG4gICAgICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoa2V5LCBhdHRyc1trZXldKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuXG5cbiAgICAgICAgICB2YXIgcGVvcGxlID0gcmVzdWx0cy5tYXAoZnVuY3Rpb24ocGVyc29uKXtcblxuICAgICAgICAgICAgc2V0Q2FyZEF0dHJpYnV0ZXMocmVzdWx0cyx7XCJkZXRhaWxDb2x1bW4xXCI6cGVyc29uWzBdLFwiZGV0YWlsQ29sdW1uMlwiOnBlcnNvblsxXSxcImRldGFpbENvbHVtbjNcIjpwZXJzb25bMl0sXCJkZXRhaWxDb2x1bW40XCI6cGVyc29uWzNdLFwiZGV0YWlsQ29sdW1uNVwiOnBlcnNvbls0XSxcImRldGFpbENvbHVtbjZcIjpwZXJzb25bNV19KTtcblxuICAgICAgICAgICAgcmV0dXJuIGA8bGk+XG4gICAgICAgICAgICAgICAgICA8cCBjbGFzcz0nY29sdW1uMSc+PGltZyBzcmM9JHtwZXJzb25bMF19PjwvcD5cbiAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPSduYW1lIGNvbHVtbjInPlxuICAgICAgICAgICAgICAgICAgICAke3BlcnNvblsxXX1cbiAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPSd0aXRsZSBjb2x1bW4zJz5cbiAgICAgICAgICAgICAgICAgICAgJHtwZXJzb25bMl19XG4gICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICA8cCBjbGFzcz0ncGhvbmUgY29sdW1uNCc+XG4gICAgICAgICAgICAgICAgICAgICR7cGVyc29uWzNdfVxuICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9J2VtYWlsIGNvbHVtbjUnPlxuICAgICAgICAgICAgICAgICAgICAke3BlcnNvbls0XX1cbiAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICA8L2xpPmA7XG4gICAgICB9KTtcblxuICAgICAgICAkKFwiLmxpc3RcIikuYXBwZW5kKHBlb3BsZSk7XG5cblxuICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJlc3VsdHMpOyAvLyBBcnJheSBvZiB2YWx1ZXNcbiAgICAgICAgfVxuXG4gICAgICAgIHNoZWV0LmdvKCk7IC8vIEV4ZWN1dGVzIGEgcmVxdWVzdC5cbiAgICAgIH0pOyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
